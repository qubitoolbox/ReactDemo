{"ast":null,"code":"function compare(a, b) {\n  return a.zindex - b.zindex || a.index - b.index;\n}\n\nexport function zorder(scene) {\n  if (!scene.zdirty) return scene.zitems;\n  var items = scene.items,\n      output = [],\n      item,\n      i,\n      n;\n\n  for (i = 0, n = items.length; i < n; ++i) {\n    item = items[i];\n    item.index = i;\n    if (item.zindex) output.push(item);\n  }\n\n  scene.zdirty = false;\n  return scene.zitems = output.sort(compare);\n}\nexport function visit(scene, visitor) {\n  var items = scene.items,\n      i,\n      n;\n  if (!items || !items.length) return;\n  var zitems = zorder(scene);\n\n  if (zitems && zitems.length) {\n    for (i = 0, n = items.length; i < n; ++i) {\n      if (!items[i].zindex) visitor(items[i]);\n    }\n\n    items = zitems;\n  }\n\n  for (i = 0, n = items.length; i < n; ++i) {\n    visitor(items[i]);\n  }\n}\nexport function pickVisit(scene, visitor) {\n  var items = scene.items,\n      hit,\n      i;\n  if (!items || !items.length) return null;\n  var zitems = zorder(scene);\n  if (zitems && zitems.length) items = zitems;\n\n  for (i = items.length; --i >= 0;) {\n    if (hit = visitor(items[i])) return hit;\n  }\n\n  if (items === zitems) {\n    for (items = scene.items, i = items.length; --i >= 0;) {\n      if (!items[i].zindex) {\n        if (hit = visitor(items[i])) return hit;\n      }\n    }\n  }\n\n  return null;\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-scenegraph/src/util/visit.js"],"names":["compare","a","b","zindex","index","zorder","scene","zdirty","zitems","items","output","item","i","n","length","push","sort","visit","visitor","pickVisit","hit"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuB;AACrB,SAAOD,CAAC,CAACE,MAAF,GAAWD,CAAC,CAACC,MAAb,IAAuBF,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAA1C;AACD;;AAED,OAAO,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAC5B,MAAI,CAACA,KAAK,CAACC,MAAX,EAAmB,OAAOD,KAAK,CAACE,MAAb;AAEnB,MAAIC,KAAK,GAAGH,KAAK,CAACG,KAAlB;AAAA,MACIC,MAAM,GAAG,EADb;AAAA,MACiBC,IADjB;AAAA,MACuBC,CADvB;AAAA,MAC0BC,CAD1B;;AAGA,OAAKD,CAAC,GAAC,CAAF,EAAKC,CAAC,GAACJ,KAAK,CAACK,MAAlB,EAA0BF,CAAC,GAACC,CAA5B,EAA+B,EAAED,CAAjC,EAAoC;AAClCD,IAAAA,IAAI,GAAGF,KAAK,CAACG,CAAD,CAAZ;AACAD,IAAAA,IAAI,CAACP,KAAL,GAAaQ,CAAb;AACA,QAAID,IAAI,CAACR,MAAT,EAAiBO,MAAM,CAACK,IAAP,CAAYJ,IAAZ;AAClB;;AAEDL,EAAAA,KAAK,CAACC,MAAN,GAAe,KAAf;AACA,SAAOD,KAAK,CAACE,MAAN,GAAeE,MAAM,CAACM,IAAP,CAAYhB,OAAZ,CAAtB;AACD;AAED,OAAO,SAASiB,KAAT,CAAeX,KAAf,EAAsBY,OAAtB,EAA+B;AACpC,MAAIT,KAAK,GAAGH,KAAK,CAACG,KAAlB;AAAA,MAAyBG,CAAzB;AAAA,MAA4BC,CAA5B;AACA,MAAI,CAACJ,KAAD,IAAU,CAACA,KAAK,CAACK,MAArB,EAA6B;AAE7B,MAAIN,MAAM,GAAGH,MAAM,CAACC,KAAD,CAAnB;;AAEA,MAAIE,MAAM,IAAIA,MAAM,CAACM,MAArB,EAA6B;AAC3B,SAAKF,CAAC,GAAC,CAAF,EAAKC,CAAC,GAACJ,KAAK,CAACK,MAAlB,EAA0BF,CAAC,GAACC,CAA5B,EAA+B,EAAED,CAAjC,EAAoC;AAClC,UAAI,CAACH,KAAK,CAACG,CAAD,CAAL,CAAST,MAAd,EAAsBe,OAAO,CAACT,KAAK,CAACG,CAAD,CAAN,CAAP;AACvB;;AACDH,IAAAA,KAAK,GAAGD,MAAR;AACD;;AAED,OAAKI,CAAC,GAAC,CAAF,EAAKC,CAAC,GAACJ,KAAK,CAACK,MAAlB,EAA0BF,CAAC,GAACC,CAA5B,EAA+B,EAAED,CAAjC,EAAoC;AAClCM,IAAAA,OAAO,CAACT,KAAK,CAACG,CAAD,CAAN,CAAP;AACD;AACF;AAED,OAAO,SAASO,SAAT,CAAmBb,KAAnB,EAA0BY,OAA1B,EAAmC;AACxC,MAAIT,KAAK,GAAGH,KAAK,CAACG,KAAlB;AAAA,MAAyBW,GAAzB;AAAA,MAA8BR,CAA9B;AACA,MAAI,CAACH,KAAD,IAAU,CAACA,KAAK,CAACK,MAArB,EAA6B,OAAO,IAAP;AAE7B,MAAIN,MAAM,GAAGH,MAAM,CAACC,KAAD,CAAnB;AACA,MAAIE,MAAM,IAAIA,MAAM,CAACM,MAArB,EAA6BL,KAAK,GAAGD,MAAR;;AAE7B,OAAKI,CAAC,GAACH,KAAK,CAACK,MAAb,EAAqB,EAAEF,CAAF,IAAO,CAA5B,GAAgC;AAC9B,QAAIQ,GAAG,GAAGF,OAAO,CAACT,KAAK,CAACG,CAAD,CAAN,CAAjB,EAA6B,OAAOQ,GAAP;AAC9B;;AAED,MAAIX,KAAK,KAAKD,MAAd,EAAsB;AACpB,SAAKC,KAAK,GAACH,KAAK,CAACG,KAAZ,EAAmBG,CAAC,GAACH,KAAK,CAACK,MAAhC,EAAwC,EAAEF,CAAF,IAAO,CAA/C,GAAmD;AACjD,UAAI,CAACH,KAAK,CAACG,CAAD,CAAL,CAAST,MAAd,EAAsB;AACpB,YAAIiB,GAAG,GAAGF,OAAO,CAACT,KAAK,CAACG,CAAD,CAAN,CAAjB,EAA6B,OAAOQ,GAAP;AAC9B;AACF;AACF;;AAED,SAAO,IAAP;AACD","sourcesContent":["function compare(a, b) {\n  return a.zindex - b.zindex || a.index - b.index;\n}\n\nexport function zorder(scene) {\n  if (!scene.zdirty) return scene.zitems;\n\n  var items = scene.items,\n      output = [], item, i, n;\n\n  for (i=0, n=items.length; i<n; ++i) {\n    item = items[i];\n    item.index = i;\n    if (item.zindex) output.push(item);\n  }\n\n  scene.zdirty = false;\n  return scene.zitems = output.sort(compare);\n}\n\nexport function visit(scene, visitor) {\n  var items = scene.items, i, n;\n  if (!items || !items.length) return;\n\n  var zitems = zorder(scene);\n\n  if (zitems && zitems.length) {\n    for (i=0, n=items.length; i<n; ++i) {\n      if (!items[i].zindex) visitor(items[i]);\n    }\n    items = zitems;\n  }\n\n  for (i=0, n=items.length; i<n; ++i) {\n    visitor(items[i]);\n  }\n}\n\nexport function pickVisit(scene, visitor) {\n  var items = scene.items, hit, i;\n  if (!items || !items.length) return null;\n\n  var zitems = zorder(scene);\n  if (zitems && zitems.length) items = zitems;\n\n  for (i=items.length; --i >= 0;) {\n    if (hit = visitor(items[i])) return hit;\n  }\n\n  if (items === zitems) {\n    for (items=scene.items, i=items.length; --i >= 0;) {\n      if (!items[i].zindex) {\n        if (hit = visitor(items[i])) return hit;\n      }\n    }\n  }\n\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}