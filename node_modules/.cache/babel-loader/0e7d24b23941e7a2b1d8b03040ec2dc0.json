{"ast":null,"code":"var Width = 'width',\n    Height = 'height',\n    Padding = 'padding',\n    Skip = {\n  skip: true\n};\nexport function viewWidth(view, width) {\n  var a = view.autosize(),\n      p = view.padding();\n  return width - (a && a.contains === Padding ? p.left + p.right : 0);\n}\nexport function viewHeight(view, height) {\n  var a = view.autosize(),\n      p = view.padding();\n  return height - (a && a.contains === Padding ? p.top + p.bottom : 0);\n}\nexport function initializeResize(view) {\n  var s = view._signals,\n      w = s[Width],\n      h = s[Height],\n      p = s[Padding];\n\n  function resetSize() {\n    view._autosize = view._resize = 1;\n  } // respond to width signal\n\n\n  view._resizeWidth = view.add(null, function (_) {\n    view._width = _.size;\n    view._viewWidth = viewWidth(view, _.size);\n    resetSize();\n  }, {\n    size: w\n  }); // respond to height signal\n\n  view._resizeHeight = view.add(null, function (_) {\n    view._height = _.size;\n    view._viewHeight = viewHeight(view, _.size);\n    resetSize();\n  }, {\n    size: h\n  }); // respond to padding signal\n\n  var resizePadding = view.add(null, resetSize, {\n    pad: p\n  }); // set rank to run immediately after source signal\n\n  view._resizeWidth.rank = w.rank + 1;\n  view._resizeHeight.rank = h.rank + 1;\n  resizePadding.rank = p.rank + 1;\n}\nexport function resizeView(viewWidth, viewHeight, width, height, origin, auto) {\n  this.runAfter(function (view) {\n    var rerun = 0; // reset autosize flag\n\n    view._autosize = 0; // width value changed: update signal, skip resize op\n\n    if (view.width() !== width) {\n      rerun = 1;\n      view.signal(Width, width, Skip); // set width, skip update calc\n\n      view._resizeWidth.skip(true); // skip width resize handler\n\n    } // height value changed: update signal, skip resize op\n\n\n    if (view.height() !== height) {\n      rerun = 1;\n      view.signal(Height, height, Skip); // set height, skip update calc\n\n      view._resizeHeight.skip(true); // skip height resize handler\n\n    } // view width changed: update view property, set resize flag\n\n\n    if (view._viewWidth !== viewWidth) {\n      view._resize = 1;\n      view._viewWidth = viewWidth;\n    } // view height changed: update view property, set resize flag\n\n\n    if (view._viewHeight !== viewHeight) {\n      view._resize = 1;\n      view._viewHeight = viewHeight;\n    } // origin changed: update view property, set resize flag\n\n\n    if (view._origin[0] !== origin[0] || view._origin[1] !== origin[1]) {\n      view._resize = 1;\n      view._origin = origin;\n    } // run dataflow on width/height signal change\n\n\n    if (rerun) view.run('enter');\n    if (auto) view.runAfter(v => v.resize());\n  }, false, 1);\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-view/src/size.js"],"names":["Width","Height","Padding","Skip","skip","viewWidth","view","width","a","autosize","p","padding","contains","left","right","viewHeight","height","top","bottom","initializeResize","s","_signals","w","h","resetSize","_autosize","_resize","_resizeWidth","add","_","_width","size","_viewWidth","_resizeHeight","_height","_viewHeight","resizePadding","pad","rank","resizeView","origin","auto","runAfter","rerun","signal","_origin","run","v","resize"],"mappings":"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","sourcesContent":["var Width = 'width',\n    Height = 'height',\n    Padding = 'padding',\n    Skip = {skip: true};\n\nexport function viewWidth(view, width) {\n  var a = view.autosize(),\n      p = view.padding();\n  return width - (a && a.contains === Padding ? p.left + p.right : 0);\n}\n\nexport function viewHeight(view, height) {\n  var a = view.autosize(),\n      p = view.padding();\n  return height - (a && a.contains === Padding ? p.top + p.bottom : 0);\n}\n\nexport function initializeResize(view) {\n  var s = view._signals,\n      w = s[Width],\n      h = s[Height],\n      p = s[Padding];\n\n  function resetSize() {\n    view._autosize = view._resize = 1;\n  }\n\n  // respond to width signal\n  view._resizeWidth = view.add(null,\n    function(_) {\n      view._width = _.size;\n      view._viewWidth = viewWidth(view, _.size);\n      resetSize();\n    },\n    {size: w}\n  );\n\n  // respond to height signal\n  view._resizeHeight = view.add(null,\n    function(_) {\n      view._height = _.size;\n      view._viewHeight = viewHeight(view, _.size);\n      resetSize();\n    },\n    {size: h}\n  );\n\n  // respond to padding signal\n  var resizePadding = view.add(null, resetSize, {pad: p});\n\n  // set rank to run immediately after source signal\n  view._resizeWidth.rank = w.rank + 1;\n  view._resizeHeight.rank = h.rank + 1;\n  resizePadding.rank = p.rank + 1;\n}\n\nexport function resizeView(viewWidth, viewHeight, width, height, origin, auto) {\n  this.runAfter(function(view) {\n    var rerun = 0;\n\n    // reset autosize flag\n    view._autosize = 0;\n\n    // width value changed: update signal, skip resize op\n    if (view.width() !== width) {\n      rerun = 1;\n      view.signal(Width, width, Skip); // set width, skip update calc\n      view._resizeWidth.skip(true); // skip width resize handler\n    }\n\n    // height value changed: update signal, skip resize op\n    if (view.height() !== height) {\n      rerun = 1;\n      view.signal(Height, height, Skip); // set height, skip update calc\n      view._resizeHeight.skip(true); // skip height resize handler\n    }\n\n    // view width changed: update view property, set resize flag\n    if (view._viewWidth !== viewWidth) {\n      view._resize = 1;\n      view._viewWidth = viewWidth;\n    }\n\n    // view height changed: update view property, set resize flag\n    if (view._viewHeight !== viewHeight) {\n      view._resize = 1;\n      view._viewHeight = viewHeight;\n    }\n\n    // origin changed: update view property, set resize flag\n    if (view._origin[0] !== origin[0] || view._origin[1] !== origin[1]) {\n      view._resize = 1;\n      view._origin = origin;\n    }\n\n    // run dataflow on width/height signal change\n    if (rerun) view.run('enter');\n    if (auto) view.runAfter(v => v.resize());\n  }, false, 1);\n}\n"]},"metadata":{},"sourceType":"module"}