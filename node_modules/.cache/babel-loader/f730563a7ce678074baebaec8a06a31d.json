{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst types_1 = require(\"../types\");\n\nconst visor_1 = require(\"../visor\");\n\nfunction getDrawArea(drawable) {\n  if (drawable instanceof HTMLElement) {\n    return drawable;\n  } else if (types_1.isSurface(drawable)) {\n    return drawable.drawArea;\n  } else if (types_1.isSurfaceInfo(drawable)) {\n    const surface = visor_1.visor().surface({\n      name: drawable.name,\n      tab: drawable.tab,\n      styles: drawable.styles\n    });\n    return surface.drawArea;\n  } else {\n    throw new Error('Not a drawable');\n  }\n}\n\nexports.getDrawArea = getDrawArea;\n\nfunction shallowEquals( // tslint:disable-next-line:no-any\na, b) {\n  const aProps = Object.getOwnPropertyNames(a);\n  const bProps = Object.getOwnPropertyNames(b);\n\n  if (aProps.length !== bProps.length) {\n    return false;\n  }\n\n  for (let i = 0; i < aProps.length; i++) {\n    const prop = aProps[i];\n\n    if (a[prop] !== b[prop]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexports.shallowEquals = shallowEquals;\n\nfunction nextFrame() {\n  return __awaiter(this, void 0, void 0, function* () {\n    yield new Promise(r => requestAnimationFrame(r));\n  });\n}\n\nexports.nextFrame = nextFrame;","map":{"version":3,"sources":["../../src/render/render_utils.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA,MAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AACA,MAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,SAAgB,WAAhB,CAA4B,QAA5B,EAA8C;AAC5C,MAAI,QAAQ,YAAY,WAAxB,EAAqC;AACnC,WAAO,QAAP;AACD,GAFD,MAEO,IAAI,OAAA,CAAA,SAAA,CAAU,QAAV,CAAJ,EAAyB;AAC9B,WAAO,QAAQ,CAAC,QAAhB;AACD,GAFM,MAEA,IAAI,OAAA,CAAA,aAAA,CAAc,QAAd,CAAJ,EAA6B;AAClC,UAAM,OAAO,GAAG,OAAA,CAAA,KAAA,GAAQ,OAAR,CACZ;AAAC,MAAA,IAAI,EAAE,QAAQ,CAAC,IAAhB;AAAsB,MAAA,GAAG,EAAE,QAAQ,CAAC,GAApC;AAAyC,MAAA,MAAM,EAAE,QAAQ,CAAC;AAA1D,KADY,CAAhB;AAEA,WAAO,OAAO,CAAC,QAAf;AACD,GAJM,MAIA;AACL,UAAM,IAAI,KAAJ,CAAU,gBAAV,CAAN;AACD;AACF;;AAZD,OAAA,CAAA,WAAA,GAAA,WAAA;;AAcA,SAAgB,aAAhB,EACI;AACA,CAFJ,EAE6B,CAF7B,EAEoD;AAClD,QAAM,MAAM,GAAG,MAAM,CAAC,mBAAP,CAA2B,CAA3B,CAAf;AACA,QAAM,MAAM,GAAG,MAAM,CAAC,mBAAP,CAA2B,CAA3B,CAAf;;AAEA,MAAI,MAAM,CAAC,MAAP,KAAkB,MAAM,CAAC,MAA7B,EAAqC;AACnC,WAAO,KAAP;AACD;;AAED,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAwC;AACtC,UAAM,IAAI,GAAG,MAAM,CAAC,CAAD,CAAnB;;AACA,QAAI,CAAC,CAAC,IAAD,CAAD,KAAY,CAAC,CAAC,IAAD,CAAjB,EAAyB;AACvB,aAAO,KAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD;;AAlBD,OAAA,CAAA,aAAA,GAAA,aAAA;;AAoBA,SAAsB,SAAtB,GAA+B;;AAC7B,UAAM,IAAI,OAAJ,CAAY,CAAC,IAAI,qBAAqB,CAAC,CAAD,CAAtC,CAAN;AACD,G;AAAA;;AAFD,OAAA,CAAA,SAAA,GAAA,SAAA","sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {Drawable, isSurface, isSurfaceInfo} from '../types';\nimport {visor} from '../visor';\n\nexport function getDrawArea(drawable: Drawable): HTMLElement {\n  if (drawable instanceof HTMLElement) {\n    return drawable;\n  } else if (isSurface(drawable)) {\n    return drawable.drawArea;\n  } else if (isSurfaceInfo(drawable)) {\n    const surface = visor().surface(\n        {name: drawable.name, tab: drawable.tab, styles: drawable.styles});\n    return surface.drawArea;\n  } else {\n    throw new Error('Not a drawable');\n  }\n}\n\nexport function shallowEquals(\n    // tslint:disable-next-line:no-any\n    a: {[key: string]: any}, b: {[key: string]: any}) {\n  const aProps = Object.getOwnPropertyNames(a);\n  const bProps = Object.getOwnPropertyNames(b);\n\n  if (aProps.length !== bProps.length) {\n    return false;\n  }\n\n  for (let i = 0; i < aProps.length; i++) {\n    const prop = aProps[i];\n    if (a[prop] !== b[prop]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport async function nextFrame() {\n  await new Promise(r => requestAnimationFrame(r));\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}