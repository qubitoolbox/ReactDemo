{"ast":null,"code":"import { YEAR, QUARTER, MONTH, WEEK, DATE, DAY, HOURS, MINUTES, SECONDS, MILLISECONDS } from './units';\nimport { constant, one, peek, toSet, zero } from 'vega-util';\nimport { timeWeek, utcWeek } from 'd3-time';\nconst t0 = new Date();\n\nfunction floor(units, step, fn, newDate) {\n  const s = step || 1,\n        b = peek(units),\n        _ = (unit, p, key) => skip(fn[key || unit], unit === b && s, p);\n\n  const t = new Date(),\n        u = toSet(units),\n        y = u[YEAR] ? _(YEAR) : constant(2012),\n        m = u[MONTH] ? _(MONTH) : u[QUARTER] ? _(QUARTER) : zero,\n        d = u[WEEK] && u[DAY] ? _(DAY, 1, WEEK + DAY) : u[WEEK] ? _(WEEK, 1) : u[DAY] ? _(DAY, 1) : u[DATE] ? _(DATE, 1) : one,\n        H = u[HOURS] ? _(HOURS) : zero,\n        M = u[MINUTES] ? _(MINUTES) : zero,\n        S = u[SECONDS] ? _(SECONDS) : zero,\n        L = u[MILLISECONDS] ? _(MILLISECONDS) : zero;\n  return function (v) {\n    t.setTime(+v);\n    const year = y(t);\n    return newDate(year, m(t), d(t, year), H(t), M(t), S(t), L(t));\n  };\n}\n\nfunction skip(f, step, phase) {\n  return step <= 1 ? f : phase ? (d, y) => phase + step * Math.floor((f(d, y) - phase) / step) : (d, y) => step * Math.floor(f(d, y) / step);\n} // returns the day of the year based on week number, day of week,\n// and the day of the week for the first day of the year\n\n\nfunction weekday(week, day, firstDay) {\n  return day + week * 7 - (firstDay + 6) % 7;\n} // -- LOCAL TIME --\n\n\nconst localGet = {\n  [YEAR]: d => d.getFullYear(),\n  [QUARTER]: d => 3 * ~~(d.getMonth() / 3),\n  [MONTH]: d => d.getMonth(),\n  [DATE]: d => d.getDate(),\n  [HOURS]: d => d.getHours(),\n  [MINUTES]: d => d.getMinutes(),\n  [SECONDS]: d => d.getSeconds(),\n  [MILLISECONDS]: d => d.getMilliseconds(),\n  [DAY]: (d, y) => weekday(1, d.getDay(), localFirst(y)),\n  [WEEK]: (d, y) => weekday(localWeekNum(d), 0, localFirst(y)),\n  [WEEK + DAY]: (d, y) => weekday(localWeekNum(d), d.getDay(), localFirst(y))\n};\n\nfunction localYear(y) {\n  t0.setFullYear(y);\n  t0.setMonth(0);\n  t0.setDate(1);\n  t0.setHours(0, 0, 0, 0);\n  return t0;\n}\n\nfunction localWeekNum(d) {\n  return timeWeek.count(localYear(d.getFullYear()) - 1, d);\n}\n\nfunction localFirst(y) {\n  return localYear(y).getDay();\n}\n\nfunction localDate(y, m, d, H, M, S, L) {\n  if (0 <= y && y < 100) {\n    var date = new Date(-1, m, d, H, M, S, L);\n    date.setFullYear(y);\n    return date;\n  }\n\n  return new Date(y, m, d, H, M, S, L);\n}\n\nexport function timeFloor(units, step) {\n  return floor(units, step || 1, localGet, localDate);\n} // -- UTC TIME --\n\nconst utcGet = {\n  [YEAR]: d => d.getUTCFullYear(),\n  [QUARTER]: d => 3 * ~~(d.getUTCMonth() / 3),\n  [MONTH]: d => d.getUTCMonth(),\n  [DATE]: d => d.getUTCDate(),\n  [HOURS]: d => d.getUTCHours(),\n  [MINUTES]: d => d.getUTCMinutes(),\n  [SECONDS]: d => d.getUTCSeconds(),\n  [MILLISECONDS]: d => d.getUTCMilliseconds(),\n  [DAY]: (d, y) => weekday(1, d.getUTCDay(), utcFirst(y)),\n  [WEEK]: (d, y) => weekday(utcWeekNum(d), 0, utcFirst(y)),\n  [WEEK + DAY]: (d, y) => weekday(utcWeekNum(d), d.getUTCDay(), utcFirst(y))\n};\n\nfunction utcWeekNum(d) {\n  const y = Date.UTC(d.getUTCFullYear(), 0, 1);\n  return utcWeek.count(y - 1, d);\n}\n\nfunction utcFirst(y) {\n  t0.setTime(Date.UTC(y, 0, 1));\n  return t0.getUTCDay();\n}\n\nfunction utcDate(y, m, d, H, M, S, L) {\n  if (0 <= y && y < 100) {\n    var date = new Date(Date.UTC(-1, m, d, H, M, S, L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(y, m, d, H, M, S, L));\n}\n\nexport function utcFloor(units, step) {\n  return floor(units, step || 1, utcGet, utcDate);\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-time/src/floor.js"],"names":["YEAR","QUARTER","MONTH","WEEK","DATE","DAY","HOURS","MINUTES","SECONDS","MILLISECONDS","constant","one","peek","toSet","zero","timeWeek","utcWeek","t0","Date","floor","units","step","fn","newDate","s","b","_","unit","p","key","skip","t","u","y","m","d","H","M","S","L","v","setTime","year","f","phase","Math","weekday","week","day","firstDay","localGet","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","localFirst","localWeekNum","localYear","setFullYear","setMonth","setDate","setHours","count","localDate","date","timeFloor","utcGet","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getUTCDay","utcFirst","utcWeekNum","UTC","utcDate","setUTCFullYear","utcFloor"],"mappings":"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","sourcesContent":["import {\n  YEAR,\n  QUARTER,\n  MONTH,\n  WEEK,\n  DATE,\n  DAY,\n  HOURS,\n  MINUTES,\n  SECONDS,\n  MILLISECONDS\n} from './units';\nimport {constant, one, peek, toSet, zero} from 'vega-util';\nimport {timeWeek, utcWeek} from 'd3-time';\n\nconst t0 = new Date;\n\nfunction floor(units, step, fn, newDate) {\n  const s = step || 1,\n        b = peek(units),\n        _ = (unit, p, key) => skip(fn[key || unit], unit === b && s, p);\n\n  const t = new Date,\n        u = toSet(units),\n        y = u[YEAR] ? _(YEAR) : constant(2012),\n        m = u[MONTH] ? _(MONTH)\n          : u[QUARTER] ? _(QUARTER)\n          : zero,\n        d = u[WEEK] && u[DAY] ? _(DAY, 1, WEEK + DAY)\n          : u[WEEK] ? _(WEEK, 1)\n          : u[DAY] ? _(DAY, 1)\n          : u[DATE] ? _(DATE, 1)\n          : one,\n        H = u[HOURS] ? _(HOURS) : zero,\n        M = u[MINUTES] ? _(MINUTES) : zero,\n        S = u[SECONDS] ? _(SECONDS) : zero,\n        L = u[MILLISECONDS] ? _(MILLISECONDS) : zero;\n\n  return function(v) {\n    t.setTime(+v);\n    const year = y(t);\n    return newDate(year, m(t), d(t, year), H(t), M(t), S(t), L(t));\n  };\n}\n\nfunction skip(f, step, phase) {\n  return step <= 1 ? f\n    : phase ? (d, y) => phase + step * Math.floor((f(d, y) - phase) / step)\n    : (d, y) => step * Math.floor(f(d, y) / step);\n}\n\n// returns the day of the year based on week number, day of week,\n// and the day of the week for the first day of the year\nfunction weekday(week, day, firstDay) {\n  return day + week * 7 - (firstDay + 6) % 7;\n}\n\n// -- LOCAL TIME --\n\nconst localGet = {\n  [YEAR]:         d => d.getFullYear(),\n  [QUARTER]:      d => 3 * ~~(d.getMonth() / 3),\n  [MONTH]:        d => d.getMonth(),\n  [DATE]:         d => d.getDate(),\n  [HOURS]:        d => d.getHours(),\n  [MINUTES]:      d => d.getMinutes(),\n  [SECONDS]:      d => d.getSeconds(),\n  [MILLISECONDS]: d => d.getMilliseconds(),\n  [DAY]:          (d, y) => weekday(1, d.getDay(), localFirst(y)),\n  [WEEK]:         (d, y) => weekday(localWeekNum(d), 0, localFirst(y)),\n  [WEEK + DAY]:   (d, y) => weekday(localWeekNum(d), d.getDay(), localFirst(y))\n};\n\nfunction localYear(y) {\n  t0.setFullYear(y);\n  t0.setMonth(0);\n  t0.setDate(1);\n  t0.setHours(0, 0, 0, 0);\n  return t0;\n}\n\nfunction localWeekNum(d) {\n  return timeWeek.count(localYear(d.getFullYear()) - 1, d);\n}\n\nfunction localFirst(y) {\n  return localYear(y).getDay();\n}\n\nfunction localDate(y, m, d, H, M, S, L) {\n  if (0 <= y && y < 100) {\n    var date = new Date(-1, m, d, H, M, S, L);\n    date.setFullYear(y);\n    return date;\n  }\n  return new Date(y, m, d, H, M, S, L);\n}\n\nexport function timeFloor(units, step) {\n  return floor(units, step || 1, localGet, localDate);\n}\n\n// -- UTC TIME --\n\nconst utcGet = {\n  [YEAR]:         d => d.getUTCFullYear(),\n  [QUARTER]:      d => 3 * ~~(d.getUTCMonth() / 3),\n  [MONTH]:        d => d.getUTCMonth(),\n  [DATE]:         d => d.getUTCDate(),\n  [HOURS]:        d => d.getUTCHours(),\n  [MINUTES]:      d => d.getUTCMinutes(),\n  [SECONDS]:      d => d.getUTCSeconds(),\n  [MILLISECONDS]: d => d.getUTCMilliseconds(),\n  [DAY]:          (d, y) => weekday(1, d.getUTCDay(), utcFirst(y)),\n  [WEEK]:         (d, y) => weekday(utcWeekNum(d), 0, utcFirst(y)),\n  [WEEK + DAY]:   (d, y) => weekday(utcWeekNum(d), d.getUTCDay(), utcFirst(y))\n};\n\nfunction utcWeekNum(d) {\n  const y = Date.UTC(d.getUTCFullYear(), 0, 1);\n  return utcWeek.count(y - 1, d);\n}\n\nfunction utcFirst(y) {\n  t0.setTime(Date.UTC(y, 0, 1));\n  return t0.getUTCDay();\n}\n\nfunction utcDate(y, m, d, H, M, S, L) {\n  if (0 <= y && y < 100) {\n    var date = new Date(Date.UTC(-1, m, d, H, M, S, L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(y, m, d, H, M, S, L));\n}\n\nexport function utcFloor(units, step) {\n  return floor(units, step || 1, utcGet, utcDate);\n}\n"]},"metadata":{},"sourceType":"module"}