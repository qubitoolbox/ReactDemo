{"ast":null,"code":"import ols from './ols';\nimport { visitPoints } from './points';\nimport rSquared from './r-squared'; // Adapted from d3-regression by Harry Stevens\n// License: https://github.com/HarryStevens/d3-regression/blob/master/LICENSE\n\nexport default function (data, x, y) {\n  let X = 0,\n      Y = 0,\n      XY = 0,\n      X2 = 0,\n      n = 0;\n  visitPoints(data, x, y, (dx, dy) => {\n    ++n;\n    X += (dx - X) / n;\n    Y += (dy - Y) / n;\n    XY += (dx * dy - XY) / n;\n    X2 += (dx * dx - X2) / n;\n  });\n\n  const coef = ols(X, Y, XY, X2),\n        predict = x => coef[0] + coef[1] * x;\n\n  return {\n    coef: coef,\n    predict: predict,\n    rSquared: rSquared(data, x, y, Y, predict)\n  };\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-statistics/src/regression/linear.js"],"names":["ols","visitPoints","rSquared","data","x","y","X","Y","XY","X2","n","dx","dy","coef","predict"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;AACA,SAAQC,WAAR,QAA0B,UAA1B;AACA,OAAOC,QAAP,MAAqB,aAArB,C,CAEA;AACA;;AACA,eAAe,UAASC,IAAT,EAAeC,CAAf,EAAkBC,CAAlB,EAAqB;AAClC,MAAIC,CAAC,GAAG,CAAR;AAAA,MAAWC,CAAC,GAAG,CAAf;AAAA,MAAkBC,EAAE,GAAG,CAAvB;AAAA,MAA0BC,EAAE,GAAG,CAA/B;AAAA,MAAkCC,CAAC,GAAG,CAAtC;AAEAT,EAAAA,WAAW,CAACE,IAAD,EAAOC,CAAP,EAAUC,CAAV,EAAa,CAACM,EAAD,EAAKC,EAAL,KAAY;AAClC,MAAEF,CAAF;AACAJ,IAAAA,CAAC,IAAI,CAACK,EAAE,GAAGL,CAAN,IAAWI,CAAhB;AACAH,IAAAA,CAAC,IAAI,CAACK,EAAE,GAAGL,CAAN,IAAWG,CAAhB;AACAF,IAAAA,EAAE,IAAI,CAACG,EAAE,GAAGC,EAAL,GAAUJ,EAAX,IAAiBE,CAAvB;AACAD,IAAAA,EAAE,IAAI,CAACE,EAAE,GAAGA,EAAL,GAAUF,EAAX,IAAiBC,CAAvB;AACD,GANU,CAAX;;AAQA,QAAMG,IAAI,GAAGb,GAAG,CAACM,CAAD,EAAIC,CAAJ,EAAOC,EAAP,EAAWC,EAAX,CAAhB;AAAA,QACMK,OAAO,GAAGV,CAAC,IAAIS,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAJ,GAAUT,CADzC;;AAGA,SAAO;AACLS,IAAAA,IAAI,EAAEA,IADD;AAELC,IAAAA,OAAO,EAAEA,OAFJ;AAGLZ,IAAAA,QAAQ,EAAEA,QAAQ,CAACC,IAAD,EAAOC,CAAP,EAAUC,CAAV,EAAaE,CAAb,EAAgBO,OAAhB;AAHb,GAAP;AAKD","sourcesContent":["import ols from './ols';\nimport {visitPoints} from './points';\nimport rSquared from './r-squared';\n\n// Adapted from d3-regression by Harry Stevens\n// License: https://github.com/HarryStevens/d3-regression/blob/master/LICENSE\nexport default function(data, x, y) {\n  let X = 0, Y = 0, XY = 0, X2 = 0, n = 0;\n\n  visitPoints(data, x, y, (dx, dy) => {\n    ++n;\n    X += (dx - X) / n;\n    Y += (dy - Y) / n;\n    XY += (dx * dy - XY) / n;\n    X2 += (dx * dx - X2) / n;\n  });\n\n  const coef = ols(X, Y, XY, X2),\n        predict = x => coef[0] + coef[1] * x;\n\n  return {\n    coef: coef,\n    predict: predict,\n    rSquared: rSquared(data, x, y, Y, predict)\n  };\n}\n"]},"metadata":{},"sourceType":"module"}