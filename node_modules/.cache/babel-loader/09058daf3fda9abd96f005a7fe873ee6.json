{"ast":null,"code":"import { eventExpression, handlerExpression } from './expression';\nimport parseParameters from './parameters';\nimport { error, isObject } from 'vega-util';\n/**\n * Parse an event-driven operator update.\n */\n\nexport default function (spec, ctx) {\n  var srcid = isObject(srcid = spec.source) ? srcid.$ref : srcid,\n      source = ctx.get(srcid),\n      target = null,\n      update = spec.update,\n      params = undefined;\n  if (!source) error('Source not defined: ' + spec.source);\n\n  if (spec.target && spec.target.$expr) {\n    target = eventExpression(spec.target.$expr, ctx);\n  } else {\n    target = ctx.get(spec.target);\n  }\n\n  if (update && update.$expr) {\n    if (update.$params) {\n      params = parseParameters(update.$params, ctx);\n    }\n\n    update = handlerExpression(update.$expr, ctx);\n  }\n\n  ctx.update(spec, source, target, update, params);\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-runtime/src/update.js"],"names":["eventExpression","handlerExpression","parseParameters","error","isObject","spec","ctx","srcid","source","$ref","get","target","update","params","undefined","$expr","$params"],"mappings":"AAAA,SAAQA,eAAR,EAAyBC,iBAAzB,QAAiD,cAAjD;AACA,OAAOC,eAAP,MAA4B,cAA5B;AACA,SAAQC,KAAR,EAAeC,QAAf,QAA8B,WAA9B;AAEA;;;;AAGA,eAAe,UAASC,IAAT,EAAeC,GAAf,EAAoB;AACjC,MAAIC,KAAK,GAAGH,QAAQ,CAACG,KAAK,GAAGF,IAAI,CAACG,MAAd,CAAR,GAAgCD,KAAK,CAACE,IAAtC,GAA6CF,KAAzD;AAAA,MACIC,MAAM,GAAGF,GAAG,CAACI,GAAJ,CAAQH,KAAR,CADb;AAAA,MAEII,MAAM,GAAG,IAFb;AAAA,MAGIC,MAAM,GAAGP,IAAI,CAACO,MAHlB;AAAA,MAIIC,MAAM,GAAGC,SAJb;AAMA,MAAI,CAACN,MAAL,EAAaL,KAAK,CAAC,yBAAyBE,IAAI,CAACG,MAA/B,CAAL;;AAEb,MAAIH,IAAI,CAACM,MAAL,IAAeN,IAAI,CAACM,MAAL,CAAYI,KAA/B,EAAsC;AACpCJ,IAAAA,MAAM,GAAGX,eAAe,CAACK,IAAI,CAACM,MAAL,CAAYI,KAAb,EAAoBT,GAApB,CAAxB;AACD,GAFD,MAEO;AACLK,IAAAA,MAAM,GAAGL,GAAG,CAACI,GAAJ,CAAQL,IAAI,CAACM,MAAb,CAAT;AACD;;AAED,MAAIC,MAAM,IAAIA,MAAM,CAACG,KAArB,EAA4B;AAC1B,QAAIH,MAAM,CAACI,OAAX,EAAoB;AAClBH,MAAAA,MAAM,GAAGX,eAAe,CAACU,MAAM,CAACI,OAAR,EAAiBV,GAAjB,CAAxB;AACD;;AACDM,IAAAA,MAAM,GAAGX,iBAAiB,CAACW,MAAM,CAACG,KAAR,EAAeT,GAAf,CAA1B;AACD;;AAEDA,EAAAA,GAAG,CAACM,MAAJ,CAAWP,IAAX,EAAiBG,MAAjB,EAAyBG,MAAzB,EAAiCC,MAAjC,EAAyCC,MAAzC;AACD","sourcesContent":["import {eventExpression, handlerExpression} from './expression';\nimport parseParameters from './parameters';\nimport {error, isObject} from 'vega-util';\n\n/**\n * Parse an event-driven operator update.\n */\nexport default function(spec, ctx) {\n  var srcid = isObject(srcid = spec.source) ? srcid.$ref : srcid,\n      source = ctx.get(srcid),\n      target = null,\n      update = spec.update,\n      params = undefined;\n\n  if (!source) error('Source not defined: ' + spec.source);\n\n  if (spec.target && spec.target.$expr) {\n    target = eventExpression(spec.target.$expr, ctx);\n  } else {\n    target = ctx.get(spec.target);\n  }\n\n  if (update && update.$expr) {\n    if (update.$params) {\n      params = parseParameters(update.$params, ctx);\n    }\n    update = handlerExpression(update.$expr, ctx);\n  }\n\n  ctx.update(spec, source, target, update, params);\n}\n"]},"metadata":{},"sourceType":"module"}