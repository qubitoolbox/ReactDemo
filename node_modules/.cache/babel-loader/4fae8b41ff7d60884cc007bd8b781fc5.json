{"ast":null,"code":"import { Top, Bottom, Left, Right, Start, End, Group } from '../constants';\nimport { set, tempBounds } from './util';\nexport function titleLayout(view, mark, width, height, viewBounds) {\n  var group = mark.items[0],\n      frame = group.frame,\n      orient = group.orient,\n      anchor = group.anchor,\n      offset = group.offset,\n      padding = group.padding,\n      title = group.items[0].items[0],\n      subtitle = group.items[1] && group.items[1].items[0],\n      end = orient === Left || orient === Right ? height : width,\n      start = 0,\n      x = 0,\n      y = 0,\n      sx = 0,\n      sy = 0,\n      pos;\n\n  if (frame !== Group) {\n    orient === Left ? (start = viewBounds.y2, end = viewBounds.y1) : orient === Right ? (start = viewBounds.y1, end = viewBounds.y2) : (start = viewBounds.x1, end = viewBounds.x2);\n  } else if (orient === Left) {\n    start = height, end = 0;\n  }\n\n  pos = anchor === Start ? start : anchor === End ? end : (start + end) / 2;\n\n  if (subtitle && subtitle.text) {\n    // position subtitle\n    switch (orient) {\n      case Top:\n      case Bottom:\n        sy = title.bounds.height() + padding;\n        break;\n\n      case Left:\n        sx = title.bounds.width() + padding;\n        break;\n\n      case Right:\n        sx = -title.bounds.width() - padding;\n        break;\n    }\n\n    tempBounds.clear().union(subtitle.bounds);\n    tempBounds.translate(sx - (subtitle.x || 0), sy - (subtitle.y || 0));\n\n    if (set(subtitle, 'x', sx) | set(subtitle, 'y', sy)) {\n      view.dirty(subtitle);\n      subtitle.bounds.clear().union(tempBounds);\n      subtitle.mark.bounds.clear().union(tempBounds);\n      view.dirty(subtitle);\n    }\n\n    tempBounds.clear().union(subtitle.bounds);\n  } else {\n    tempBounds.clear();\n  }\n\n  tempBounds.union(title.bounds); // position title group\n\n  switch (orient) {\n    case Top:\n      x = pos;\n      y = viewBounds.y1 - tempBounds.height() - offset;\n      break;\n\n    case Left:\n      x = viewBounds.x1 - tempBounds.width() - offset;\n      y = pos;\n      break;\n\n    case Right:\n      x = viewBounds.x2 + tempBounds.width() + offset;\n      y = pos;\n      break;\n\n    case Bottom:\n      x = pos;\n      y = viewBounds.y2 + offset;\n      break;\n\n    default:\n      x = group.x;\n      y = group.y;\n  }\n\n  if (set(group, 'x', x) | set(group, 'y', y)) {\n    tempBounds.translate(x, y);\n    view.dirty(group);\n    group.bounds.clear().union(tempBounds);\n    mark.bounds.clear().union(tempBounds);\n    view.dirty(group);\n  }\n\n  return group.bounds;\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-view-transforms/src/layout/title.js"],"names":["Top","Bottom","Left","Right","Start","End","Group","set","tempBounds","titleLayout","view","mark","width","height","viewBounds","group","items","frame","orient","anchor","offset","padding","title","subtitle","end","start","x","y","sx","sy","pos","y2","y1","x1","x2","text","bounds","clear","union","translate","dirty"],"mappings":"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","sourcesContent":["import {Top, Bottom, Left, Right, Start, End, Group} from '../constants';\nimport {set, tempBounds} from './util';\n\nexport function titleLayout(view, mark, width, height, viewBounds) {\n  var group = mark.items[0],\n      frame = group.frame,\n      orient = group.orient,\n      anchor = group.anchor,\n      offset = group.offset,\n      padding = group.padding,\n      title = group.items[0].items[0],\n      subtitle = group.items[1] && group.items[1].items[0],\n      end = (orient === Left || orient === Right) ? height : width,\n      start = 0, x = 0, y = 0, sx = 0, sy = 0, pos;\n\n  if (frame !== Group) {\n    orient === Left ? (start = viewBounds.y2, end = viewBounds.y1)\n      : orient === Right ? (start = viewBounds.y1, end = viewBounds.y2)\n      : (start = viewBounds.x1, end = viewBounds.x2);\n  } else if (orient === Left) {\n    start = height, end = 0;\n  }\n\n  pos = (anchor === Start) ? start\n    : (anchor === End) ? end\n    : (start + end) / 2;\n\n  if (subtitle && subtitle.text) {\n    // position subtitle\n    switch (orient) {\n      case Top:\n      case Bottom:\n        sy = title.bounds.height() + padding;\n        break;\n      case Left:\n        sx = title.bounds.width() + padding;\n        break;\n      case Right:\n        sx = -title.bounds.width() - padding;\n        break;\n    }\n\n    tempBounds.clear().union(subtitle.bounds);\n    tempBounds.translate(sx - (subtitle.x || 0), sy - (subtitle.y || 0));\n    if (set(subtitle, 'x', sx) | set(subtitle, 'y', sy)) {\n      view.dirty(subtitle);\n      subtitle.bounds.clear().union(tempBounds);\n      subtitle.mark.bounds.clear().union(tempBounds);\n      view.dirty(subtitle);\n    }\n\n    tempBounds.clear().union(subtitle.bounds);\n  } else {\n    tempBounds.clear();\n  }\n  tempBounds.union(title.bounds);\n\n  // position title group\n  switch (orient) {\n    case Top:\n      x = pos;\n      y = viewBounds.y1 - tempBounds.height() - offset;\n      break;\n    case Left:\n      x = viewBounds.x1 - tempBounds.width() - offset;\n      y = pos;\n      break;\n    case Right:\n      x = viewBounds.x2 + tempBounds.width() + offset;\n      y = pos;\n      break;\n    case Bottom:\n      x = pos;\n      y = viewBounds.y2 + offset;\n      break;\n    default:\n      x = group.x;\n      y = group.y;\n  }\n\n  if (set(group, 'x', x) | set(group, 'y', y)) {\n    tempBounds.translate(x, y);\n    view.dirty(group);\n    group.bounds.clear().union(tempBounds);\n    mark.bounds.clear().union(tempBounds);\n    view.dirty(group);\n  }\n  return group.bounds;\n}\n"]},"metadata":{},"sourceType":"module"}