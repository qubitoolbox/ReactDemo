{"ast":null,"code":"var _jsxFileName = \"C:\\\\NewReactResume\\\\resm\\\\src\\\\Components\\\\FirstML\\\\AnotherMl.js\";\nimport React from \"react\"; //import * as t_f from '@tensorflow/tfjs-node'\n\nimport * as tf from '@tensorflow/tfjs'; //const model = tf.sequential();\n\nconst model = tf.sequential({\n  layers: [tf.layers.dense({\n    inputShape: [784],\n    units: 32,\n    activation: 'relu'\n  }), tf.layers.dense({\n    units: 10,\n    activation: 'softmax'\n  })]\n});\nvar prediction_;\nexport default class AnotherMl extends React.Component {\n  constructor(props) {\n    super(props);\n    model.compile({\n      optimizer: 'sgd',\n      loss: 'categoricalCrossentropy',\n      metrics: ['accuracy']\n    });\n    this.state = {\n      isTfReady: false,\n      trained: false,\n      isitraining: false,\n      prediction: null\n    };\n  }\n\n  async componentDidMount() {\n    // Wait for tf to be ready.\n    await tf.ready(); // Signal to the app that tensorflow.js can now be used.\n\n    this.setState({\n      isTfReady: true\n    }); //this.train()\n    //this.setState({training:true})\n    //const source = { uri: response.uri }\n\n    this.trainTheModel();\n  }\n\n  async trainTheModel() {\n    // Generate dummy data.\n    const data = tf.randomNormal([100, 784]);\n    const labels = tf.randomUniform([100, 10]);\n\n    function onBatchEnd(batch, logs) {\n      console.log('Accuracy', logs.acc); //isTraining()\n      //)\n    }\n\n    function isTraining() {\n      this.setState({\n        isitraining: true\n      });\n    } // Train for 5 epochs with batch size of 32.\n\n\n    model.fit(data, labels, {\n      epochs: 5,\n      batchSize: 32,\n      callbacks: {\n        onBatchEnd\n      }\n    }).then(info => {\n      //this.setState({isitraining:false})\n      console.log('Final accuracy', info.history.acc);\n      this.setState({\n        trained: true\n      });\n      this.thePrediction();\n    }); //this.thePrediction()\n  }\n\n  async thePrediction() {\n    if (this.state.trained) {\n      prediction_ = await model.predict(tf.randomNormal([3, 784])); //console.log(prediction_?\"yes\":\"no\")\n      //console.log(prediction_.print())\n\n      prediction_.toString(); //this.setState({prediction: prediction_.print()})\n      //console.log(prediction_.print())\n    }\n  }\n\n  render() {\n    const {\n      isTfReady,\n      isitraining,\n      trained,\n      prediction\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.isTfReady ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Yes Ready\") : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Not Ready\"), this.state.isitraining ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Yes Training\") : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Not Training\"), this.state.trained ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Yes Trained\") : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Not Trained\"), this.state.prediction && this.state.trained ? prediction_.print() : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Not\"));\n  }\n\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/src/Components/FirstML/AnotherMl.js"],"names":["React","tf","model","sequential","layers","dense","inputShape","units","activation","prediction_","AnotherMl","Component","constructor","props","compile","optimizer","loss","metrics","state","isTfReady","trained","isitraining","prediction","componentDidMount","ready","setState","trainTheModel","data","randomNormal","labels","randomUniform","onBatchEnd","batch","logs","console","log","acc","isTraining","fit","epochs","batchSize","callbacks","then","info","history","thePrediction","predict","toString","render","print"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n//import * as t_f from '@tensorflow/tfjs-node'\r\nimport * as tf from '@tensorflow/tfjs';\r\n\r\n//const model = tf.sequential();\r\n\r\n\r\nconst model = tf.sequential({\r\n    layers: [\r\n      tf.layers.dense({inputShape: [784], units: 32, activation: 'relu'}),\r\n      tf.layers.dense({units: 10, activation: 'softmax'}),\r\n    ]\r\n   });\r\nvar prediction_;\r\n\r\nexport default class AnotherMl extends React.Component{\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        model.compile({\r\n            optimizer: 'sgd',\r\n            loss: 'categoricalCrossentropy',\r\n            metrics: ['accuracy']\r\n          });\r\n\r\n        this.state = {\r\n            isTfReady:false,\r\n            trained:false,\r\n            isitraining: false,\r\n            prediction:null\r\n        }\r\n        \r\n      }\r\n    \r\n    async componentDidMount() {\r\n        // Wait for tf to be ready.\r\n        await tf.ready();\r\n        // Signal to the app that tensorflow.js can now be used.\r\n        this.setState({isTfReady: true})\r\n        //this.train()\r\n        //this.setState({training:true})\r\n        //const source = { uri: response.uri }\r\n        this.trainTheModel()\r\n\r\n    }\r\n    \r\n\r\n    async trainTheModel(){\r\n\r\n\r\n        // Generate dummy data.\r\n        const data = tf.randomNormal([100, 784]);\r\n        const labels = tf.randomUniform([100, 10]);\r\n\r\n        function onBatchEnd(batch, logs) {\r\n            console.log('Accuracy', logs.acc);\r\n            //isTraining()\r\n            //)\r\n        }\r\n\r\n        function isTraining(){\r\n            this.setState({isitraining:true})\r\n        }\r\n\r\n        // Train for 5 epochs with batch size of 32.\r\n        model.fit(data, labels, {\r\n        epochs: 5,\r\n        batchSize: 32,\r\n        callbacks: {onBatchEnd}\r\n        }).then(info => {\r\n            //this.setState({isitraining:false})\r\n            console.log('Final accuracy', info.history.acc);\r\n            this.setState({trained:true})\r\n            this.thePrediction()\r\n        });\r\n\r\n            //this.thePrediction()\r\n        \r\n    }\r\n\r\n    async thePrediction(){\r\n\r\n        if(this.state.trained)\r\n            {\r\n                prediction_ = await model.predict(tf.randomNormal([3, 784]));\r\n                //console.log(prediction_?\"yes\":\"no\")\r\n                //console.log(prediction_.print())\r\n                prediction_.toString()\r\n                \r\n\r\n                //this.setState({prediction: prediction_.print()})\r\n                //console.log(prediction_.print())\r\n            }\r\n    }\r\n\r\n\r\n    render()\r\n        {\r\n            const { isTfReady, isitraining, trained, prediction } = this.state\r\n\r\n            return (\r\n\r\n            <div>\r\n\r\n                {this.state.isTfReady?<p>Yes Ready</p>:<p>Not Ready</p>}\r\n                {this.state.isitraining?<p>Yes Training</p>:<p>Not Training</p>}\r\n                {this.state.trained?<p>Yes Trained</p>:<p>Not Trained</p>}\r\n                {this.state.prediction && this.state.trained? prediction_.print(): <p>Not</p>}\r\n                \r\n                \r\n                \r\n            </div>\r\n            );\r\n        }\r\n    \r\n\r\n}"]},"metadata":{},"sourceType":"module"}