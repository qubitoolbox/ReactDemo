{"ast":null,"code":"import { Transform } from 'vega-dataflow';\nimport { error, fastmap, inherits } from 'vega-util';\nvar Paths = fastmap({\n  'line': line,\n  'line-radial': lineR,\n  'arc': arc,\n  'arc-radial': arcR,\n  'curve': curve,\n  'curve-radial': curveR,\n  'orthogonal-horizontal': orthoX,\n  'orthogonal-vertical': orthoY,\n  'orthogonal-radial': orthoR,\n  'diagonal-horizontal': diagonalX,\n  'diagonal-vertical': diagonalY,\n  'diagonal-radial': diagonalR\n});\n\nfunction sourceX(t) {\n  return t.source.x;\n}\n\nfunction sourceY(t) {\n  return t.source.y;\n}\n\nfunction targetX(t) {\n  return t.target.x;\n}\n\nfunction targetY(t) {\n  return t.target.y;\n}\n/**\n * Layout paths linking source and target elements.\n * @constructor\n * @param {object} params - The parameters for this operator.\n */\n\n\nexport default function LinkPath(params) {\n  Transform.call(this, {}, params);\n}\nLinkPath.Definition = {\n  \"type\": \"LinkPath\",\n  \"metadata\": {\n    \"modifies\": true\n  },\n  \"params\": [{\n    \"name\": \"sourceX\",\n    \"type\": \"field\",\n    \"default\": \"source.x\"\n  }, {\n    \"name\": \"sourceY\",\n    \"type\": \"field\",\n    \"default\": \"source.y\"\n  }, {\n    \"name\": \"targetX\",\n    \"type\": \"field\",\n    \"default\": \"target.x\"\n  }, {\n    \"name\": \"targetY\",\n    \"type\": \"field\",\n    \"default\": \"target.y\"\n  }, {\n    \"name\": \"orient\",\n    \"type\": \"enum\",\n    \"default\": \"vertical\",\n    \"values\": [\"horizontal\", \"vertical\", \"radial\"]\n  }, {\n    \"name\": \"shape\",\n    \"type\": \"enum\",\n    \"default\": \"line\",\n    \"values\": [\"line\", \"arc\", \"curve\", \"diagonal\", \"orthogonal\"]\n  }, {\n    \"name\": \"require\",\n    \"type\": \"signal\"\n  }, {\n    \"name\": \"as\",\n    \"type\": \"string\",\n    \"default\": \"path\"\n  }]\n};\nvar prototype = inherits(LinkPath, Transform);\n\nprototype.transform = function (_, pulse) {\n  var sx = _.sourceX || sourceX,\n      sy = _.sourceY || sourceY,\n      tx = _.targetX || targetX,\n      ty = _.targetY || targetY,\n      as = _.as || 'path',\n      orient = _.orient || 'vertical',\n      shape = _.shape || 'line',\n      path = Paths.get(shape + '-' + orient) || Paths.get(shape);\n\n  if (!path) {\n    error('LinkPath unsupported type: ' + _.shape + (_.orient ? '-' + _.orient : ''));\n  }\n\n  pulse.visit(pulse.SOURCE, function (t) {\n    t[as] = path(sx(t), sy(t), tx(t), ty(t));\n  });\n  return pulse.reflow(_.modified()).modifies(as);\n}; // -- Link Path Generation Methods -----\n\n\nfunction line(sx, sy, tx, ty) {\n  return 'M' + sx + ',' + sy + 'L' + tx + ',' + ty;\n}\n\nfunction lineR(sa, sr, ta, tr) {\n  return line(sr * Math.cos(sa), sr * Math.sin(sa), tr * Math.cos(ta), tr * Math.sin(ta));\n}\n\nfunction arc(sx, sy, tx, ty) {\n  var dx = tx - sx,\n      dy = ty - sy,\n      rr = Math.sqrt(dx * dx + dy * dy) / 2,\n      ra = 180 * Math.atan2(dy, dx) / Math.PI;\n  return 'M' + sx + ',' + sy + 'A' + rr + ',' + rr + ' ' + ra + ' 0 1' + ' ' + tx + ',' + ty;\n}\n\nfunction arcR(sa, sr, ta, tr) {\n  return arc(sr * Math.cos(sa), sr * Math.sin(sa), tr * Math.cos(ta), tr * Math.sin(ta));\n}\n\nfunction curve(sx, sy, tx, ty) {\n  var dx = tx - sx,\n      dy = ty - sy,\n      ix = 0.2 * (dx + dy),\n      iy = 0.2 * (dy - dx);\n  return 'M' + sx + ',' + sy + 'C' + (sx + ix) + ',' + (sy + iy) + ' ' + (tx + iy) + ',' + (ty - ix) + ' ' + tx + ',' + ty;\n}\n\nfunction curveR(sa, sr, ta, tr) {\n  return curve(sr * Math.cos(sa), sr * Math.sin(sa), tr * Math.cos(ta), tr * Math.sin(ta));\n}\n\nfunction orthoX(sx, sy, tx, ty) {\n  return 'M' + sx + ',' + sy + 'V' + ty + 'H' + tx;\n}\n\nfunction orthoY(sx, sy, tx, ty) {\n  return 'M' + sx + ',' + sy + 'H' + tx + 'V' + ty;\n}\n\nfunction orthoR(sa, sr, ta, tr) {\n  var sc = Math.cos(sa),\n      ss = Math.sin(sa),\n      tc = Math.cos(ta),\n      ts = Math.sin(ta),\n      sf = Math.abs(ta - sa) > Math.PI ? ta <= sa : ta > sa;\n  return 'M' + sr * sc + ',' + sr * ss + 'A' + sr + ',' + sr + ' 0 0,' + (sf ? 1 : 0) + ' ' + sr * tc + ',' + sr * ts + 'L' + tr * tc + ',' + tr * ts;\n}\n\nfunction diagonalX(sx, sy, tx, ty) {\n  var m = (sx + tx) / 2;\n  return 'M' + sx + ',' + sy + 'C' + m + ',' + sy + ' ' + m + ',' + ty + ' ' + tx + ',' + ty;\n}\n\nfunction diagonalY(sx, sy, tx, ty) {\n  var m = (sy + ty) / 2;\n  return 'M' + sx + ',' + sy + 'C' + sx + ',' + m + ' ' + tx + ',' + m + ' ' + tx + ',' + ty;\n}\n\nfunction diagonalR(sa, sr, ta, tr) {\n  var sc = Math.cos(sa),\n      ss = Math.sin(sa),\n      tc = Math.cos(ta),\n      ts = Math.sin(ta),\n      mr = (sr + tr) / 2;\n  return 'M' + sr * sc + ',' + sr * ss + 'C' + mr * sc + ',' + mr * ss + ' ' + mr * tc + ',' + mr * ts + ' ' + tr * tc + ',' + tr * ts;\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-encode/src/LinkPath.js"],"names":["Transform","error","fastmap","inherits","Paths","line","lineR","arc","arcR","curve","curveR","orthoX","orthoY","orthoR","diagonalX","diagonalY","diagonalR","sourceX","t","source","x","sourceY","y","targetX","target","targetY","LinkPath","params","call","Definition","prototype","transform","_","pulse","sx","sy","tx","ty","as","orient","shape","path","get","visit","SOURCE","reflow","modified","modifies","sa","sr","ta","tr","Math","cos","sin","dx","dy","rr","sqrt","ra","atan2","PI","ix","iy","sc","ss","tc","ts","sf","abs","m","mr"],"mappings":"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","sourcesContent":["import {Transform} from 'vega-dataflow';\nimport {error, fastmap, inherits} from 'vega-util';\n\nvar Paths = fastmap({\n  'line': line,\n  'line-radial': lineR,\n  'arc': arc,\n  'arc-radial': arcR,\n  'curve': curve,\n  'curve-radial': curveR,\n  'orthogonal-horizontal': orthoX,\n  'orthogonal-vertical': orthoY,\n  'orthogonal-radial': orthoR,\n  'diagonal-horizontal': diagonalX,\n  'diagonal-vertical': diagonalY,\n  'diagonal-radial': diagonalR\n});\n\nfunction sourceX(t) { return t.source.x; }\nfunction sourceY(t) { return t.source.y; }\nfunction targetX(t) { return t.target.x; }\nfunction targetY(t) { return t.target.y; }\n\n /**\n  * Layout paths linking source and target elements.\n  * @constructor\n  * @param {object} params - The parameters for this operator.\n  */\nexport default function LinkPath(params) {\n  Transform.call(this, {}, params);\n}\n\nLinkPath.Definition = {\n  \"type\": \"LinkPath\",\n  \"metadata\": {\"modifies\": true},\n  \"params\": [\n    { \"name\": \"sourceX\", \"type\": \"field\", \"default\": \"source.x\" },\n    { \"name\": \"sourceY\", \"type\": \"field\", \"default\": \"source.y\" },\n    { \"name\": \"targetX\", \"type\": \"field\", \"default\": \"target.x\" },\n    { \"name\": \"targetY\", \"type\": \"field\", \"default\": \"target.y\" },\n    { \"name\": \"orient\", \"type\": \"enum\", \"default\": \"vertical\",\n      \"values\": [\"horizontal\", \"vertical\", \"radial\"] },\n    { \"name\": \"shape\", \"type\": \"enum\", \"default\": \"line\",\n      \"values\": [\"line\", \"arc\", \"curve\", \"diagonal\", \"orthogonal\"] },\n    { \"name\": \"require\", \"type\": \"signal\" },\n    { \"name\": \"as\", \"type\": \"string\", \"default\": \"path\" }\n  ]\n};\n\nvar prototype = inherits(LinkPath, Transform);\n\nprototype.transform = function(_, pulse) {\n  var sx = _.sourceX || sourceX,\n      sy = _.sourceY || sourceY,\n      tx = _.targetX || targetX,\n      ty = _.targetY || targetY,\n      as = _.as || 'path',\n      orient = _.orient || 'vertical',\n      shape = _.shape || 'line',\n      path = Paths.get(shape + '-' + orient) || Paths.get(shape);\n\n  if (!path) {\n    error('LinkPath unsupported type: ' + _.shape\n      + (_.orient ? '-' + _.orient : ''));\n  }\n\n  pulse.visit(pulse.SOURCE, function(t) {\n    t[as] = path(sx(t), sy(t), tx(t), ty(t));\n  });\n\n  return pulse.reflow(_.modified()).modifies(as);\n};\n\n// -- Link Path Generation Methods -----\n\nfunction line(sx, sy, tx, ty) {\n  return 'M' + sx + ',' + sy +\n         'L' + tx + ',' + ty;\n}\n\nfunction lineR(sa, sr, ta, tr) {\n  return line(\n    sr * Math.cos(sa), sr * Math.sin(sa),\n    tr * Math.cos(ta), tr * Math.sin(ta)\n  );\n}\n\nfunction arc(sx, sy, tx, ty) {\n  var dx = tx - sx,\n      dy = ty - sy,\n      rr = Math.sqrt(dx * dx + dy * dy) / 2,\n      ra = 180 * Math.atan2(dy, dx) / Math.PI;\n  return 'M' + sx + ',' + sy +\n         'A' + rr + ',' + rr +\n         ' ' + ra + ' 0 1' +\n         ' ' + tx + ',' + ty;\n}\n\nfunction arcR(sa, sr, ta, tr) {\n  return arc(\n    sr * Math.cos(sa), sr * Math.sin(sa),\n    tr * Math.cos(ta), tr * Math.sin(ta)\n  );\n}\n\nfunction curve(sx, sy, tx, ty) {\n  var dx = tx - sx,\n      dy = ty - sy,\n      ix = 0.2 * (dx + dy),\n      iy = 0.2 * (dy - dx);\n  return 'M' + sx + ',' + sy +\n         'C' + (sx+ix) + ',' + (sy+iy) +\n         ' ' + (tx+iy) + ',' + (ty-ix) +\n         ' ' + tx + ',' + ty;\n}\n\nfunction curveR(sa, sr, ta, tr) {\n  return curve(\n    sr * Math.cos(sa), sr * Math.sin(sa),\n    tr * Math.cos(ta), tr * Math.sin(ta)\n  );\n}\n\nfunction orthoX(sx, sy, tx, ty) {\n  return 'M' + sx + ',' + sy +\n         'V' + ty + 'H' + tx;\n}\n\nfunction orthoY(sx, sy, tx, ty) {\n  return 'M' + sx + ',' + sy +\n         'H' + tx + 'V' + ty;\n}\n\nfunction orthoR(sa, sr, ta, tr) {\n  var sc = Math.cos(sa),\n      ss = Math.sin(sa),\n      tc = Math.cos(ta),\n      ts = Math.sin(ta),\n      sf = Math.abs(ta - sa) > Math.PI ? ta <= sa : ta > sa;\n  return 'M' + (sr*sc) + ',' + (sr*ss) +\n         'A' + sr + ',' + sr + ' 0 0,' + (sf?1:0) +\n         ' ' + (sr*tc) + ',' + (sr*ts) +\n         'L' + (tr*tc) + ',' + (tr*ts);\n}\n\nfunction diagonalX(sx, sy, tx, ty) {\n  var m = (sx + tx) / 2;\n  return 'M' + sx + ',' + sy +\n         'C' + m  + ',' + sy +\n         ' ' + m  + ',' + ty +\n         ' ' + tx + ',' + ty;\n}\n\nfunction diagonalY(sx, sy, tx, ty) {\n  var m = (sy + ty) / 2;\n  return 'M' + sx + ',' + sy +\n         'C' + sx + ',' + m +\n         ' ' + tx + ',' + m +\n         ' ' + tx + ',' + ty;\n}\n\nfunction diagonalR(sa, sr, ta, tr) {\n  var sc = Math.cos(sa),\n      ss = Math.sin(sa),\n      tc = Math.cos(ta),\n      ts = Math.sin(ta),\n      mr = (sr + tr) / 2;\n  return 'M' + (sr*sc) + ',' + (sr*ss) +\n         'C' + (mr*sc) + ',' + (mr*ss) +\n         ' ' + (mr*tc) + ',' + (mr*ts) +\n         ' ' + (tr*tc) + ',' + (tr*ts);\n}\n"]},"metadata":{},"sourceType":"module"}