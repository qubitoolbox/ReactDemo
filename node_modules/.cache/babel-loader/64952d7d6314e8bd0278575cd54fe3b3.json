{"ast":null,"code":"var _jsxFileName = \"C:\\\\NewReactResume\\\\resm\\\\src\\\\Components\\\\FirstML\\\\AnotherMl_2.js\";\nimport React from \"react\"; //import * as t_f from '@tensorflow/tfjs-node'\n\nimport * as tf from '@tensorflow/tfjs';\nimport LineGraph from 'C:/NewReactResume/resm/src/Components/ChartJs/Charts.js';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport aPic from 'C:/NewReactResume/resm/src/assets/img/indicator.gif';\nimport Play from '../../Components/PlayGround/PlayGround.js'; //const model = tf.sequential();\n//this is how you export a variable lmao\n\nexport var theindata; // = {data:state.x}\n\nexport var thelabels; // = {labels:state.y}\n\nconst model = tf.sequential({\n  layers: [tf.layers.dense({\n    inputShape: [5],\n    units: 5,\n    activation: 'sigmoid'\n  }), tf.layers.dense({\n    units: 15,\n    activation: 'sigmoid'\n  }), tf.layers.dense({\n    units: 10,\n    activation: 'sigmoid'\n  }), tf.layers.dense({\n    units: 5,\n    activation: 'sigmoid'\n  })]\n});\nvar prediction_;\nexport var data_;\nvar labels;\nvar vlafs;\nvar dummy;\nvar dummy1;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: theme.spacing(10)\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%' // 16:9\n\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  },\n  avatar: {\n    backgroundColor: '#FFF'\n  }\n}));\nmodel.compile({\n  optimizer: 'sgd',\n  learningrate: 0.003,\n  dropout: 0.002,\n  loss: 'categoricalCrossentropy',\n  metrics: ['accuracy']\n});\nexport var state;\nexport default class AnotherMl_2 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTfReady: false,\n      trained: false,\n      isitraining: false,\n      x: null,\n      y: null,\n      loss: [this.props.defaultValue],\n      measure: [this.props.defaultValue],\n      measure1: null,\n      datasets: null,\n      counter: 0,\n      prediction: null\n    };\n\n    this.onUpdate = loss => {\n      this.setState({\n        loss\n      });\n      this.props.onUpdate && this.props.onUpdate(this.loss[0]);\n    };\n\n    this.onChange = measure => {\n      this.setState({\n        measure\n      }); // Use the first value from the array because this only supports one handle\n\n      this.props.onChange && this.props.onChange(measure[0]);\n    };\n  }\n\n  async componentDidMount() {\n    // Wait for tf to be ready.\n    await tf.ready(); // Signal to the app that tensorflow.js can now be used.\n\n    this.setState({\n      isTfReady: true\n    });\n    this.setState({\n      trained: false\n    }); //this.setState({counter:0+1})\n    //this.train()\n    //this.setState({training:true})\n    //const source = { uri: response.uri }\n\n    await this.trainTheModel();\n  }\n\n  async trainTheModel() {\n    // Generate dummy data.\n    data_ = tf.randomNormal([100, 5]);\n    labels = tf.randomUniform([100, 5]);\n    this.setState({\n      isitraining: true\n    }); //console.log(data.print())\n    //console.log(labels.print())\n    //this.setState({x:data.array()})\n    //this.setState({y:labels})\n    //data_.array().then(array=>console.log(array))\n\n    let counter = 0; //vlafs = await data.data()//.then(array => console.log(array))\n    //console.log(vlafs)\n    //console.log(vlafs)\n    //console.log(JSON.stringify(this.state.x))\n\n    function onBatchEnd(batch, logs) {\n      console.log(`Accuracy: ${logs.acc}`, `loss: ${logs.loss}`, `epoch: ${counter}`); //console.log(typeof(logs.loss))\n      //this.setState({loss : logs.loss})\n      //let hi = async () => {\n      //}\n      //  hi()\n\n      counter += 1; //isTraining()\n      //)\n    }\n\n    function updateChart(logs) {} //console.log('Accuracy', logs.acc, 'loss', logs.loss, 'epoch', counter);\n    // Train for 5 epochs with batch size of 32.\n\n\n    model.fit(data_, labels, {\n      epochs: 1000,\n      //add sliders to these options.\n      batchSize: 32,\n      callbacks: {\n        onBatchEnd\n      }\n    }).then(info => {\n      //this.setState({isitraining:false})\n      //console.log('Final accuracy', info.history.acc);\n      this.setState({\n        isitraining: false\n      });\n      this.setState({\n        trained: true\n      });\n      this.thePrediction(); //model.summary()\n    });\n  }\n\n  async thePrediction() {\n    if (this.state.trained) {\n      prediction_ = await model.predict(tf.randomNormal([3, 5])); //console.log(prediction_?\"yes\":\"no\")\n      //console.log(prediction_.print())\n\n      this.setState({\n        prediction: prediction_.toString(prediction_.print())\n      }); //this.setState({prediction: prediction_.print()})\n      //console.log(prediction_.print())\n    }\n\n    this.randomm();\n  }\n\n  async randomm() {\n    dummy = await model.getWeights().values().next().value; //valid call\n    //dummy1 = await model.loss.toString()\n\n    dummy1 = JSON.stringify(model.summary()); //Document.toString(dummy1)\n    //dummy = await model.trainableWeights.toString() not iter\n    //model.g\n    //console.log(\"cokooooooo\",dummy)\n\n    this.setState({\n      measure1: dummy1\n    }); //console.log(this.state.measure1)\n    //document.writeln(this.state.measure1)\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    // Need this to dynamically update state from props\n    if (props.defaultValue !== state.measure[0]) {\n      return {\n        measure: [props.defaultValue]\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      isTfReady,\n      trained,\n      isitraining,\n      measure,\n      x,\n      y,\n      prediction\n    } = this.state;\n    theindata = {\n      data: [1, 2, 3, 4]\n    }; //console.log(\"connn \", theindata)\n\n    thelabels = {\n      labels: {\n        labels: [\"app\", \"ape\", \"ssa\", \"as\", \"art\"]\n      }\n    }; //console.log(theindata)\n    //there shoud be sliders accepting params\n    //there should  be popovers informational of whats going on\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      title: \"Is TensorFlow Ready?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, this.state.isTfReady ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, \"Yes Ready\") : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, \"Not Ready\")))), React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      title: \"Is the model Training?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, this.state.isitraining ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"Yes Training...\") : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"Not Training\")))), React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      title: \"Prediction Results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }), this.state.prediction && this.state.trained ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, this.state.prediction, \" \") : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"Loading\", React.createElement(\"img\", {\n      src: aPic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }))))))), React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      title: \"Weights from Model\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, React.createElement(Slider, {\n      onUpdate: this.onUpdate,\n      onChange: this.onChange,\n      values: loss,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }), this.state.trained ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    }, this.state.measure1) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    }, \"Loading\", React.createElement(\"img\", {\n      src: aPic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    })))))), React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      title: \"eval\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521\n      },\n      __self: this\n    }, this.state.trained ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, this.state.measure) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, \"Loading\", React.createElement(\"img\", {\n      src: aPic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    })))))));\n  }\n\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/src/Components/FirstML/AnotherMl_2.js"],"names":["React","tf","LineGraph","Grid","Slider","makeStyles","CardHeader","Card","CardContent","aPic","Play","theindata","thelabels","model","sequential","layers","dense","inputShape","units","activation","prediction_","data_","labels","vlafs","dummy","dummy1","useStyles","theme","root","marginTop","spacing","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","compile","optimizer","learningrate","dropout","loss","metrics","state","AnotherMl_2","Component","constructor","props","isTfReady","trained","isitraining","x","y","defaultValue","measure","measure1","datasets","counter","prediction","onUpdate","setState","onChange","componentDidMount","ready","trainTheModel","randomNormal","randomUniform","onBatchEnd","batch","logs","console","log","acc","updateChart","fit","epochs","batchSize","callbacks","then","info","thePrediction","predict","toString","print","randomm","getWeights","values","next","value","JSON","stringify","summary","getDerivedStateFromProps","render","data"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n//import * as t_f from '@tensorflow/tfjs-node'\r\nimport * as tf from '@tensorflow/tfjs';\r\nimport LineGraph from 'C:/NewReactResume/resm/src/Components/ChartJs/Charts.js'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport aPic from 'C:/NewReactResume/resm/src/assets/img/indicator.gif'\r\nimport Play from '../../Components/PlayGround/PlayGround.js'\r\n//const model = tf.sequential();\r\n//this is how you export a variable lmao\r\nexport var theindata;// = {data:state.x}\r\nexport var thelabels;// = {labels:state.y}\r\nconst model = tf.sequential({\r\n    layers: [\r\n      tf.layers.dense({inputShape: [5], units: 5, activation: 'sigmoid'}),\r\n      tf.layers.dense({units:15, activation:'sigmoid'}),\r\n      tf.layers.dense({units:10, activation:'sigmoid'}),\r\n      tf.layers.dense({units: 5, activation: 'sigmoid'}),\r\n    ]\r\n   });\r\nvar prediction_;\r\nexport var data_;\r\nvar labels;\r\nvar vlafs;\r\nvar dummy;\r\nvar dummy1;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      marginTop:theme.spacing(10),\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: '56.25%', // 16:9\r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    avatar: {\r\n      backgroundColor: '#FFF',\r\n    },\r\n  }));\r\n\r\n  model.compile({\r\n    optimizer: 'sgd',\r\n    learningrate: 0.003,\r\n    dropout: 0.002,\r\n    loss: 'categoricalCrossentropy',\r\n    metrics: ['accuracy']\r\n  });\r\nexport var state;\r\n\r\nexport default class AnotherMl_2 extends React.Component{\r\n    \r\n    constructor(props) {\r\n\r\n        super(props);\r\n        \r\n      }\r\n        state = {\r\n            isTfReady:false,\r\n            trained:false,\r\n            isitraining: false,\r\n            x : null, \r\n            y : null,\r\n            loss: [this.props.defaultValue],\r\n            measure: [this.props.defaultValue],\r\n            measure1:null,\r\n            datasets : null, \r\n            counter : 0,\r\n            prediction:null\r\n        }  \r\n    \r\n    async componentDidMount() {\r\n        // Wait for tf to be ready.\r\n        await tf.ready();\r\n        // Signal to the app that tensorflow.js can now be used.\r\n        this.setState({isTfReady: true})\r\n        this.setState({trained: false})\r\n        //this.setState({counter:0+1})\r\n        //this.train()\r\n        //this.setState({training:true})\r\n        //const source = { uri: response.uri }\r\n        await this.trainTheModel()\r\n    }\r\n    async trainTheModel(){\r\n\r\n        // Generate dummy data.\r\n        data_ = tf.randomNormal([100, 5]);\r\n        labels = tf.randomUniform([100, 5]);\r\n        this.setState({isitraining:true})\r\n        //console.log(data.print())\r\n        //console.log(labels.print())\r\n        //this.setState({x:data.array()})\r\n        //this.setState({y:labels})\r\n        //data_.array().then(array=>console.log(array))\r\n        let counter = 0;\r\n        \r\n        //vlafs = await data.data()//.then(array => console.log(array))\r\n        //console.log(vlafs)\r\n        //console.log(vlafs)\r\n        //console.log(JSON.stringify(this.state.x))\r\n\r\n        function onBatchEnd(batch, logs) {\r\n            \r\n            console.log(`Accuracy: ${logs.acc}`,  `loss: ${logs.loss}`,  `epoch: ${counter}`);\r\n            \r\n            //console.log(typeof(logs.loss))\r\n            //this.setState({loss : logs.loss})\r\n            //let hi = async () => {\r\n                \r\n                \r\n            //}\r\n            \r\n            //  hi()\r\n            counter += 1;\r\n            //isTraining()\r\n            //)\r\n        }\r\n\r\n        function updateChart(logs) {\r\n            \r\n            //console.log('Accuracy', logs.acc, 'loss', logs.loss, 'epoch', counter);\r\n        }\r\n\r\n        // Train for 5 epochs with batch size of 32.\r\n        model.fit(data_, labels, {\r\n        epochs: 1000, //add sliders to these options.\r\n        batchSize: 32,\r\n        callbacks: {onBatchEnd}\r\n        }).then(info => {\r\n            //this.setState({isitraining:false})\r\n            //console.log('Final accuracy', info.history.acc);\r\n            this.setState({isitraining:false})\r\n            this.setState({trained:true})\r\n            this.thePrediction()\r\n            //model.summary()\r\n        });\r\n\r\n    }\r\n    \r\n\r\n    async thePrediction(){\r\n\r\n        if(this.state.trained)\r\n            {\r\n                prediction_ = await model.predict(tf.randomNormal([3, 5]));\r\n                //console.log(prediction_?\"yes\":\"no\")\r\n                //console.log(prediction_.print())\r\n                this.setState({prediction: prediction_.toString(prediction_.print())})\r\n                \r\n\r\n                //this.setState({prediction: prediction_.print()})\r\n                //console.log(prediction_.print())\r\n            }\r\n        this.randomm()\r\n    }\r\n\r\n    async randomm(){\r\n\r\n        dummy = await model.getWeights().values().next().value //valid call\r\n        //dummy1 = await model.loss.toString()\r\n        dummy1 = JSON.stringify(model.summary())\r\n        //Document.toString(dummy1)\r\n        \r\n        //dummy = await model.trainableWeights.toString() not iter\r\n        //model.g\r\n        //console.log(\"cokooooooo\",dummy)\r\n        this.setState({measure1: dummy1})\r\n        //console.log(this.state.measure1)\r\n        //document.writeln(this.state.measure1)\r\n    }\r\n\r\n   \r\n\r\n\r\n    onUpdate = loss => {\r\n        this.setState({loss})\r\n        this.props.onUpdate && this.props.onUpdate(this.loss[0]);\r\n    };\r\n\r\n\r\n    onChange = measure => {\r\n        this.setState({ measure });\r\n        // Use the first value from the array because this only supports one handle\r\n        this.props.onChange && this.props.onChange(measure[0]);\r\n    };\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        // Need this to dynamically update state from props\r\n        if (props.defaultValue !== state.measure[0]) {\r\n          return {\r\n            measure: [props.defaultValue]\r\n          };\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n    \r\n    render()\r\n        {\r\n            const { isTfReady, trained, isitraining, measure, x, y, prediction } = this.state\r\n            theindata = {data:[1,2,3,4]}\r\n            //console.log(\"connn \", theindata)\r\n            thelabels = {labels: { labels:[\"app\",\"ape\",\"ssa\",\"as\",\"art\"]\r\n            }\r\n        }\r\n            //console.log(theindata)\r\n            //there shoud be sliders accepting params\r\n            //there should  be popovers informational of whats going on\r\n            return (\r\n\r\n            <div>\r\n             <Grid container>\r\n             <Grid item xs={3}>\r\n                 <Card>\r\n                 <CardHeader\r\n        \r\n                    title=\"Is TensorFlow Ready?\"\r\n                        />\r\n                        \r\n                     <CardContent>\r\n                        {this.state.isTfReady?<p>Yes Ready</p>:<p>Not Ready</p>}\r\n                    </CardContent>\r\n                </Card>\r\n               </Grid> \r\n               <Grid item xs={3}>\r\n                   <Card>\r\n                   <CardHeader\r\n        \r\n                        title=\"Is the model Training?\"\r\n                            />\r\n                    <CardContent>\r\n                        {this.state.isitraining?<p>Yes Training...</p>:<p>Not Training</p>}\r\n                    </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                \r\n                <Grid container>\r\n                \r\n                    <Grid item md={12}>\r\n                        <Card>\r\n                            <CardContent>\r\n                            <CardHeader\r\n        \r\n                                title=\"Prediction Results\"\r\n                                    />\r\n                                {this.state.prediction && this.state.trained? <p>{this.state.prediction} </p>: <p>Loading<img src={aPic}></img></p>}\r\n                            </CardContent>\r\n                            </Card>\r\n                    </Grid>\r\n                </Grid>\r\n                </Grid>\r\n                <Grid container>\r\n                <Grid item md={12}>\r\n                    <Card>\r\n                    <CardHeader\r\n        \r\n                        title=\"Weights from Model\"\r\n                            />\r\n                        <CardContent>\r\n                            <Slider\r\n                                onUpdate={this.onUpdate}\r\n                                onChange={this.onChange}\r\n                                values={loss}\r\n                            \r\n                            \r\n                            \r\n                            \r\n                            \r\n                            />\r\n                            {this.state.trained?<p>{this.state.measure1}</p>:<p>Loading<img src={aPic}></img></p>}\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n\r\n                </Grid>\r\n                <Grid container>\r\n                    <Grid item md={12}>\r\n                        <Card>\r\n                        <CardHeader\r\n            \r\n                            title=\"eval\"\r\n                                />\r\n                            <CardContent>\r\n                                {this.state.trained?<p>{this.state.measure}</p>:<p>Loading<img src={aPic}></img></p>}\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </div>\r\n            );\r\n        }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}