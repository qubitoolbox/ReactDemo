{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tfc = require(\"@tensorflow/tfjs-core\");\n\nvar tfjs_core_1 = require(\"@tensorflow/tfjs-core\"); // tslint:disable-next-line: no-imports-from-dist\n\n\nvar backend_1 = require(\"@tensorflow/tfjs-core/dist/backends/backend\");\n\nvar util_1 = require(\"util\");\n\nvar int64_tensors_1 = require(\"./int64_tensors\");\n\nvar NodeJSKernelBackend =\n/** @class */\nfunction (_super) {\n  __extends(NodeJSKernelBackend, _super);\n\n  function NodeJSKernelBackend(binding, packageName) {\n    var _this = _super.call(this) || this;\n\n    _this.binding = binding;\n    _this.isGPUPackage = packageName === '@tensorflow/tfjs-node-gpu';\n    _this.isUsingGpuDevice = _this.binding.isUsingGpuDevice();\n    _this.tensorMap = new tfc.DataStorage(_this, tfc.engine());\n    return _this;\n  }\n\n  NodeJSKernelBackend.prototype.getDTypeInteger = function (dtype) {\n    switch (dtype) {\n      case 'float32':\n        return this.binding.TF_FLOAT;\n\n      case 'int32':\n        return this.binding.TF_INT32;\n\n      case 'bool':\n        return this.binding.TF_BOOL;\n\n      case 'complex64':\n        return this.binding.TF_COMPLEX64;\n\n      case 'string':\n        return this.binding.TF_STRING;\n\n      default:\n        throw new Error(\"Unsupported DType: \" + dtype);\n    }\n  };\n\n  NodeJSKernelBackend.prototype.typeAttributeFromTensor = function (value) {\n    return this.getDTypeInteger(value.dtype);\n  }; // Creates a new Tensor and maps the dataId to the passed in ID.\n\n\n  NodeJSKernelBackend.prototype.createOutputTensor = function (metadata) {\n    var newId = {};\n    this.tensorMap.set(newId, {\n      shape: metadata.shape,\n      dtype: metadata.dtype,\n      id: metadata.id,\n      values: null\n    });\n    var dtype;\n\n    switch (metadata.dtype) {\n      case this.binding.TF_FLOAT:\n        dtype = 'float32';\n        break;\n\n      case this.binding.TF_INT32:\n        dtype = 'int32';\n        break;\n\n      case this.binding.TF_BOOL:\n        dtype = 'bool';\n        break;\n\n      case this.binding.TF_COMPLEX64:\n        dtype = 'complex64';\n        break;\n\n      case this.binding.TF_STRING:\n        dtype = 'string';\n        break;\n\n      case this.binding.TF_RESOURCE:\n        // NOTE(cais): We currently represent resource-type Tensors\n        // as string of ubytes.\n        dtype = 'string';\n        break;\n\n      case this.binding.TF_UINT8:\n        // TensorFlow uses UINT8 as dtype for image tensor. UINT8 is not\n        // supported in TFJS yet, cast it to int32.\n        dtype = 'int32';\n        break;\n\n      default:\n        throw new Error(\"Unknown dtype enum \" + metadata.dtype);\n    }\n\n    return tfc.engine().makeTensorFromDataId(newId, metadata.shape, dtype);\n  }; // Prepares Tensor instances for Op execution.\n\n\n  NodeJSKernelBackend.prototype.getInputTensorIds = function (tensors) {\n    var ids = [];\n\n    for (var i = 0; i < tensors.length; i++) {\n      if (tensors[i] instanceof int64_tensors_1.Int64Scalar) {\n        // Then `tensors[i]` is a Int64Scalar, which we currently represent\n        // using an `Int32Array`.\n        var value = tensors[i].valueArray;\n        var id = this.binding.createTensor([], this.binding.TF_INT64, value);\n        ids.push(id);\n      } else {\n        var info = this.tensorMap.get(tensors[i].dataId); // TODO - what about ID in this case? Handle in write()??\n\n        if (info.values != null) {\n          // Values were delayed to write into the TensorHandle. Do that before\n          // Op execution and clear stored values.\n          info.id = this.binding.createTensor(info.shape, info.dtype, info.values);\n          info.values = null;\n        }\n\n        ids.push(info.id);\n      }\n    }\n\n    return ids;\n  };\n\n  NodeJSKernelBackend.prototype.createReductionOpAttrs = function (tensor) {\n    return [{\n      name: 'keep_dims',\n      type: this.binding.TF_ATTR_BOOL,\n      value: false\n    }, createTypeOpAttr('T', tensor.dtype), createTypeOpAttr('Tidx', 'int32')];\n  };\n\n  NodeJSKernelBackend.prototype.executeSingleInput = function (name, input) {\n    var opAttrs = [createTypeOpAttr('T', input.dtype)];\n    return this.executeSingleOutput(name, opAttrs, [input]);\n  };\n\n  NodeJSKernelBackend.prototype.floatPrecision = function () {\n    return 32;\n  };\n\n  NodeJSKernelBackend.prototype.epsilon = function () {\n    return backend_1.EPSILON_FLOAT32;\n  };\n  /**\n   * Executes a TensorFlow Eager Op that provides one output Tensor.\n   * @param name The name of the Op to execute.\n   * @param opAttrs The list of Op attributes required to execute.\n   * @param inputs The list of input Tensors for the Op.\n   * @return A resulting Tensor from Op execution.\n   */\n\n\n  NodeJSKernelBackend.prototype.executeSingleOutput = function (name, opAttrs, inputs) {\n    var outputMetadata = this.binding.executeOp(name, opAttrs, this.getInputTensorIds(inputs), 1);\n    return this.createOutputTensor(outputMetadata[0]);\n  };\n  /**\n   * Executes a TensorFlow Eager Op that provides multiple output Tensors.\n   * @param name The name of the Op to execute.\n   * @param opAttrs The list of Op attributes required to execute.\n   * @param inputs The list of input Tensors for the Op.\n   * @param numOutputs The number of output Tensors for Op execution.\n   * @return A resulting Tensor array from Op execution.\n   */\n\n\n  NodeJSKernelBackend.prototype.executeMultipleOutputs = function (name, opAttrs, inputs, numOutputs) {\n    var _this = this;\n\n    var outputMetadata = this.binding.executeOp(name, opAttrs, this.getInputTensorIds(inputs), numOutputs);\n    return outputMetadata.map(function (m) {\n      return _this.createOutputTensor(m);\n    });\n  };\n\n  NodeJSKernelBackend.prototype.numDataIds = function () {\n    return this.tensorMap.numDataIds();\n  };\n\n  NodeJSKernelBackend.prototype.dispose = function () {};\n\n  NodeJSKernelBackend.prototype.read = function (dataId) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.readSync(dataId)];\n      });\n    });\n  };\n\n  NodeJSKernelBackend.prototype.readSync = function (dataId) {\n    if (!this.tensorMap.has(dataId)) {\n      throw new Error(\"Tensor \" + dataId + \" was not registered!\");\n    }\n\n    var info = this.tensorMap.get(dataId);\n\n    if (info.values != null) {\n      return info.values;\n    } else {\n      return this.binding.tensorDataSync(info.id);\n    }\n  };\n\n  NodeJSKernelBackend.prototype.disposeData = function (dataId) {\n    // No-op if already disposed.\n    if (!this.tensorMap.has(dataId)) {\n      return;\n    }\n\n    var id = this.tensorMap.get(dataId).id;\n\n    if (id != null && id >= 0) {\n      this.binding.deleteTensor(id);\n    }\n\n    this.tensorMap.delete(dataId);\n  };\n\n  NodeJSKernelBackend.prototype.move = function (dataId, values, shape, dtype) {\n    this.tensorMap.set(dataId, {\n      shape: shape,\n      dtype: getTFDType(dtype),\n      values: values,\n      id: -1\n    });\n  };\n\n  NodeJSKernelBackend.prototype.write = function (values, shape, dtype) {\n    var dataId = {};\n    this.move(dataId, values, shape, dtype);\n    return dataId;\n  };\n\n  NodeJSKernelBackend.prototype.fill = function (shape, value, dtype) {\n    // TODO(cais, nkreeger): Investigate whether this can be made into\n    // a dtype helper method. The underlying op kernel doesn't accept undefined\n    // or null dtype.\n    if (dtype == null) {\n      if (typeof value === 'number') {\n        dtype = 'float32';\n      } else {\n        dtype = 'string';\n      }\n    }\n\n    var shapeTensor = tfjs_core_1.tensor1d(shape, 'int32');\n    var valueTensor = tfjs_core_1.scalar(value, dtype);\n    var opAttrs = [{\n      name: 'T',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.getDTypeInteger(dtype)\n    }, {\n      name: 'index_type',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_INT32\n    }];\n    return this.executeSingleOutput('Fill', opAttrs, [shapeTensor, valueTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.onesLike = function (x) {\n    var opAttrs = [{\n      name: 'T',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.getDTypeInteger(x.dtype)\n    }];\n    return this.executeSingleOutput('OnesLike', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.zerosLike = function (x) {\n    var opAttrs = [{\n      name: 'T',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.getDTypeInteger(x.dtype)\n    }];\n    return this.executeSingleOutput('ZerosLike', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.stridedSlice = function (x, begin, end, strides) {\n    var beginTensor = tfjs_core_1.tensor1d(begin, 'int32');\n\n    for (var axis = 0; axis < end.length; axis++) {\n      // Unlike Numpy, when the strides are negative, TF C uses -n-1 instead of\n      // -1 as the \"end\" in order to include the first element.\n      if (strides[axis] < 0 && end[axis] === -1) {\n        end[axis] -= x.shape[axis];\n      }\n    }\n\n    var endTensor = tfjs_core_1.tensor1d(end, 'int32');\n    var stridesTensor = tfjs_core_1.tensor1d(strides, 'int32'); // All of the masks have already been accounted for in the high level op,\n    // so the backend does NOT need to deal with masks.\n\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Index', 'int32'), {\n      name: 'begin_mask',\n      type: this.binding.TF_ATTR_INT,\n      value: 0\n    }, {\n      name: 'end_mask',\n      type: this.binding.TF_ATTR_INT,\n      value: 0\n    }, {\n      name: 'ellipsis_mask',\n      type: this.binding.TF_ATTR_INT,\n      value: 0\n    }, {\n      name: 'new_axis_mask',\n      type: this.binding.TF_ATTR_INT,\n      value: 0\n    }, {\n      name: 'shrink_axis_mask',\n      type: this.binding.TF_ATTR_INT,\n      value: 0\n    }];\n    return this.executeSingleOutput('StridedSlice', opAttrs, [x, beginTensor, endTensor, stridesTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.unstack = function (x, axis) {\n    if (axis >= x.shape.length) {\n      throw new Error(\"Invalid axis supplied: \" + axis + \" shape length: \" + x.shape.length);\n    }\n\n    var num = x.shape[axis];\n    var opAttrs = [{\n      name: 'num',\n      type: this.binding.TF_ATTR_INT,\n      value: num\n    }, createTypeOpAttr('T', x.dtype), {\n      name: 'axis',\n      type: this.binding.TF_ATTR_INT,\n      value: axis\n    }];\n    return this.executeMultipleOutputs('Unpack', opAttrs, [x], num);\n  };\n\n  NodeJSKernelBackend.prototype.batchMatMul = function (a, b, transposeA, transposeB) {\n    var opAttrs = [createTypeOpAttr('T', a.dtype), {\n      name: 'adj_x',\n      type: this.binding.TF_ATTR_BOOL,\n      value: transposeA\n    }, {\n      name: 'adj_y',\n      type: this.binding.TF_ATTR_BOOL,\n      value: transposeB\n    }];\n    return this.executeSingleOutput('BatchMatMul', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.applyActivation = function (input, activation, preluActivationWeights) {\n    var result = input;\n\n    if (activation != null) {\n      if (activation === 'linear') {// No-op\n      } else if (activation === 'relu') {\n        result = this.relu(result);\n      } else if (activation === 'prelu') {\n        result = this.prelu(result, preluActivationWeights);\n      } else if (activation === 'elu') {\n        result = this.elu(result);\n      } else if (activation === 'relu6') {\n        result = this.relu6(result);\n      } else {\n        throw new Error(\"Activation: \" + activation + \" has not been implemented for the Node.js backend\");\n      }\n    }\n\n    return result;\n  };\n\n  NodeJSKernelBackend.prototype.fusedConv2d = function (_a) {\n    var input = _a.input,\n        filter = _a.filter,\n        convInfo = _a.convInfo,\n        bias = _a.bias,\n        activation = _a.activation,\n        preluActivationWeights = _a.preluActivationWeights;\n    var result = this.conv2d(input, filter, convInfo);\n\n    if (bias != null) {\n      result = this.add(result, bias);\n    }\n\n    result = this.applyActivation(result, activation, preluActivationWeights);\n    return result;\n  };\n\n  NodeJSKernelBackend.prototype.fusedBatchMatMul = function (_a) {\n    var a = _a.a,\n        b = _a.b,\n        transposeA = _a.transposeA,\n        transposeB = _a.transposeB,\n        bias = _a.bias,\n        activation = _a.activation,\n        preluActivationWeights = _a.preluActivationWeights; // Core TensorFlow does not have a fused BatchMatMul op. Combine calls to\n    // achieve the same results:\n\n    var result = this.batchMatMul(a, b, transposeA, transposeB);\n\n    if (bias != null) {\n      result = this.add(result, bias);\n    }\n\n    result = this.applyActivation(result, activation, preluActivationWeights);\n    return result;\n  };\n\n  NodeJSKernelBackend.prototype.slice = function (x, begin, size) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Index', 'int32')]; // Bind tensor values\n\n    var beginTensor = tfjs_core_1.tensor1d(begin, 'int32');\n    var sizeTensor = tfjs_core_1.tensor1d(size, 'int32');\n    return this.executeSingleOutput('Slice', opAttrs, [x, beginTensor, sizeTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.reverse = function (a, axis) {\n    var opAttrs = [createTypeOpAttr('Tidx', 'int32'), createTypeOpAttr('T', a.dtype)];\n    var axisTensor = tfjs_core_1.tensor1d(axis, 'int32');\n    return this.executeSingleOutput('ReverseV2', opAttrs, [a, axisTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.concat = function (tensors, axis) {\n    var opAttrs = [{\n      name: 'N',\n      type: this.binding.TF_ATTR_INT,\n      value: tensors.length\n    }, {\n      name: 'Tidx',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_INT32\n    }, createTensorsTypeOpAttr('T', tensors)];\n    var inputs = Array.from(tensors);\n    inputs.push(tfjs_core_1.scalar(axis, 'int32'));\n    return this.executeSingleOutput('ConcatV2', opAttrs, inputs);\n  };\n\n  NodeJSKernelBackend.prototype.neg = function (a) {\n    return this.executeSingleInput('Neg', a);\n  };\n\n  NodeJSKernelBackend.prototype.diag = function (x) {\n    return this.executeSingleInput('Diag', x);\n  };\n\n  NodeJSKernelBackend.prototype.add = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Add', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.select = function (condition, a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Select', opAttrs, [condition, a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.addN = function (tensors) {\n    var opAttrs = [createTypeOpAttr('T', tensors[0].dtype), {\n      name: 'N',\n      type: this.binding.TF_ATTR_INT,\n      value: tensors.length\n    }];\n    return this.executeSingleOutput('AddN', opAttrs, tensors);\n  };\n\n  NodeJSKernelBackend.prototype.subtract = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Sub', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.multiply = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Mul', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.realDivide = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('RealDiv', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.floorDiv = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('FloorDiv', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.divide = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Div', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.divNoNan = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('DivNoNan', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.unsortedSegmentSum = function (x, segmentIds, numSegments) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tindices', 'int32'), createTypeOpAttr('Tnumsegments', 'int32')];\n    return this.executeSingleOutput('UnsortedSegmentSum', opAttrs, [x, segmentIds, tfjs_core_1.scalar(numSegments, 'int32')]);\n  };\n\n  NodeJSKernelBackend.prototype.sum = function (x, axes) {\n    var axisTensor = tfjs_core_1.tensor1d(axes, 'int32');\n    return this.executeSingleOutput('Sum', this.createReductionOpAttrs(x), [x, axisTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.prod = function (x, axes) {\n    var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n    var opAttrs = [{\n      name: 'keep_dims',\n      type: this.binding.TF_ATTR_BOOL,\n      value: false\n    }, createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tidx', 'int32')];\n    return this.executeSingleOutput('Prod', opAttrs, [x, axesTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.argMin = function (x, axis) {\n    var xInput = x.dtype === 'bool' ? x.toInt() : x;\n    var axisScalar = tfjs_core_1.scalar(axis, 'int32');\n    var opAttrs = [createTypeOpAttr('T', xInput.dtype), createTypeOpAttr('Tidx', 'int32'), createTypeOpAttr('output_type', 'int32')];\n    return this.executeSingleOutput('ArgMin', opAttrs, [xInput, axisScalar]);\n  };\n\n  NodeJSKernelBackend.prototype.argMax = function (x, axis) {\n    var xInput = x.dtype === 'bool' ? x.toInt() : x;\n    var axisScalar = tfjs_core_1.scalar(axis, 'int32');\n    var opAttrs = [createTypeOpAttr('T', xInput.dtype), createTypeOpAttr('Tidx', 'int32'), createTypeOpAttr('output_type', 'int32')];\n    return this.executeSingleOutput('ArgMax', opAttrs, [xInput, axisScalar]);\n  };\n\n  NodeJSKernelBackend.prototype.equal = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Equal', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.notEqual = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('NotEqual', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.less = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Less', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.lessEqual = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('LessEqual', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.greater = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Greater', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.greaterEqual = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('GreaterEqual', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.logicalNot = function (a) {\n    return this.executeSingleOutput('LogicalNot', [], [a]);\n  };\n\n  NodeJSKernelBackend.prototype.logicalAnd = function (a, b) {\n    return this.executeSingleOutput('LogicalAnd', [], [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.logicalOr = function (a, b) {\n    return this.executeSingleOutput('LogicalOr', [], [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.where = function (condition) {\n    return this.executeSingleOutput('Where', [], [condition]);\n  };\n\n  NodeJSKernelBackend.prototype.topKValues = function (x, k) {\n    throw new Error('Method not implemented.');\n  };\n\n  NodeJSKernelBackend.prototype.topKIndices = function (x, k) {\n    throw new Error('Method not implemented.');\n  };\n\n  NodeJSKernelBackend.prototype.topk = function (x, k, sorted) {\n    var kCount = util_1.isNullOrUndefined(k) ? 1 : k;\n    var isSorted = util_1.isNullOrUndefined(sorted) ? true : sorted;\n    var opAttrs = [{\n      name: 'sorted',\n      type: this.binding.TF_ATTR_BOOL,\n      value: isSorted\n    }, createTypeOpAttr('T', x.dtype)];\n    var kTensor = tfjs_core_1.scalar(kCount, 'int32'); // 'TopKV2' has two-hard coded output attributes:\n\n    return this.executeMultipleOutputs('TopKV2', opAttrs, [x, kTensor], 2);\n  };\n\n  NodeJSKernelBackend.prototype.min = function (x, axes) {\n    var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n    return this.executeSingleOutput('Min', this.createReductionOpAttrs(x), [x, axesTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.minimum = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Minimum', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.max = function (x, axes) {\n    var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n    return this.executeSingleOutput('Max', this.createReductionOpAttrs(x), [x, axesTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.maximum = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n    return this.executeSingleOutput('Maximum', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.all = function (x, axes) {\n    var opAttrs = [{\n      name: 'keep_dims',\n      type: this.binding.TF_ATTR_BOOL,\n      value: false\n    }, createTypeOpAttr('Tidx', 'int32')];\n    var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n    return this.executeSingleOutput('All', opAttrs, [x, axesTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.any = function (x, axes) {\n    var opAttrs = [{\n      name: 'keep_dims',\n      type: this.binding.TF_ATTR_BOOL,\n      value: false\n    }, createTypeOpAttr('Tidx', 'int32')];\n    var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n    return this.executeSingleOutput('Any', opAttrs, [x, axesTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.ceil = function (x) {\n    return this.executeSingleInput('Ceil', x);\n  };\n\n  NodeJSKernelBackend.prototype.floor = function (x) {\n    return this.executeSingleInput('Floor', x);\n  };\n\n  NodeJSKernelBackend.prototype.pow = function (a, b) {\n    var dtype = tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype);\n    var opAttrs = [createTypeOpAttr('T', dtype)];\n    return this.executeSingleOutput('Pow', opAttrs, [a.cast(dtype), b.cast(dtype)]);\n  };\n\n  NodeJSKernelBackend.prototype.exp = function (x) {\n    var xTensor = x.dtype === 'int32' ? x.toFloat() : x;\n    return this.executeSingleInput('Exp', xTensor);\n  };\n\n  NodeJSKernelBackend.prototype.log = function (x) {\n    return this.executeSingleInput('Log', x);\n  };\n\n  NodeJSKernelBackend.prototype.log1p = function (x) {\n    return this.executeSingleInput('Log1p', x);\n  };\n\n  NodeJSKernelBackend.prototype.sqrt = function (x) {\n    return this.executeSingleInput('Sqrt', x);\n  };\n\n  NodeJSKernelBackend.prototype.square = function (x) {\n    return this.executeSingleInput('Square', x);\n  };\n\n  NodeJSKernelBackend.prototype.relu = function (x) {\n    return this.executeSingleInput('Relu', x);\n  };\n\n  NodeJSKernelBackend.prototype.relu6 = function (x) {\n    return this.executeSingleInput('Relu6', x);\n  };\n\n  NodeJSKernelBackend.prototype.prelu = function (x, a) {\n    var pos = this.relu(x);\n    var neg = a.mul(x.sub(this.abs(x))).mul(0.5);\n    return pos.add(neg);\n  };\n\n  NodeJSKernelBackend.prototype.elu = function (x) {\n    return this.executeSingleInput('Elu', x);\n  };\n\n  NodeJSKernelBackend.prototype.eluDer = function (dy, y) {\n    var opAttrs = [createTypeOpAttr('T', y.dtype)];\n    return this.executeSingleOutput('EluGrad', opAttrs, [dy, y]);\n  };\n\n  NodeJSKernelBackend.prototype.selu = function (x) {\n    return this.executeSingleInput('Selu', x);\n  };\n\n  NodeJSKernelBackend.prototype.int = function (x) {\n    throw new Error('Method not implemented.');\n  };\n\n  NodeJSKernelBackend.prototype.clip = function (x, min, max) {\n    var xMin = this.minimum(x, tfjs_core_1.scalar(max));\n    return this.maximum(xMin, tfjs_core_1.scalar(min));\n  };\n\n  NodeJSKernelBackend.prototype.abs = function (x) {\n    return this.executeSingleInput('Abs', x);\n  };\n\n  NodeJSKernelBackend.prototype.complexAbs = function (x) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tout', 'float32')];\n    return this.executeSingleOutput('ComplexAbs', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.sigmoid = function (x) {\n    return this.executeSingleInput('Sigmoid', x);\n  };\n\n  NodeJSKernelBackend.prototype.sin = function (x) {\n    return this.executeSingleInput('Sin', x);\n  };\n\n  NodeJSKernelBackend.prototype.cos = function (x) {\n    return this.executeSingleInput('Cos', x);\n  };\n\n  NodeJSKernelBackend.prototype.tan = function (x) {\n    return this.executeSingleInput('Tan', x);\n  };\n\n  NodeJSKernelBackend.prototype.asin = function (x) {\n    return this.executeSingleInput('Asin', x);\n  };\n\n  NodeJSKernelBackend.prototype.acos = function (x) {\n    return this.executeSingleInput('Acos', x);\n  };\n\n  NodeJSKernelBackend.prototype.atan = function (x) {\n    return this.executeSingleInput('Atan', x);\n  };\n\n  NodeJSKernelBackend.prototype.sinh = function (x) {\n    return this.executeSingleInput('Sinh', x);\n  };\n\n  NodeJSKernelBackend.prototype.cosh = function (x) {\n    return this.executeSingleInput('Cosh', x);\n  };\n\n  NodeJSKernelBackend.prototype.tanh = function (x) {\n    return this.executeSingleInput('Tanh', x);\n  };\n\n  NodeJSKernelBackend.prototype.mod = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', a.dtype)];\n    return this.executeSingleOutput('FloorMod', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.round = function (x) {\n    return this.executeSingleInput('Round', x);\n  };\n\n  NodeJSKernelBackend.prototype.sign = function (x) {\n    return this.executeSingleInput('Sign', x);\n  };\n\n  NodeJSKernelBackend.prototype.isNaN = function (x) {\n    return this.executeSingleInput('IsNan', x);\n  };\n\n  NodeJSKernelBackend.prototype.isInf = function (x) {\n    return this.executeSingleInput('IsInf', x);\n  };\n\n  NodeJSKernelBackend.prototype.isFinite = function (x) {\n    return this.executeSingleInput('IsFinite', x);\n  };\n\n  NodeJSKernelBackend.prototype.rsqrt = function (x) {\n    return this.executeSingleInput('Rsqrt', x);\n  };\n\n  NodeJSKernelBackend.prototype.reciprocal = function (x) {\n    return this.executeSingleInput('Reciprocal', x);\n  };\n\n  NodeJSKernelBackend.prototype.asinh = function (x) {\n    return this.executeSingleInput('Asinh', x);\n  };\n\n  NodeJSKernelBackend.prototype.acosh = function (x) {\n    return this.executeSingleInput('Acosh', x);\n  };\n\n  NodeJSKernelBackend.prototype.atanh = function (x) {\n    return this.executeSingleInput('Atanh', x);\n  };\n\n  NodeJSKernelBackend.prototype.erf = function (x) {\n    return this.executeSingleInput('Erf', x);\n  };\n\n  NodeJSKernelBackend.prototype.squaredDifference = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', a.dtype)];\n    return this.executeSingleOutput('SquaredDifference', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.expm1 = function (x) {\n    return this.executeSingleInput('Expm1', x);\n  };\n\n  NodeJSKernelBackend.prototype.softplus = function (x) {\n    return this.executeSingleInput('Softplus', x);\n  };\n\n  NodeJSKernelBackend.prototype.atan2 = function (a, b) {\n    var opAttrs = [createTypeOpAttr('T', a.dtype)];\n    return this.executeSingleOutput('Atan2', opAttrs, [a, b]);\n  };\n\n  NodeJSKernelBackend.prototype.step = function (x, alpha) {\n    var dtype = x.dtype;\n    var nans = this.isNaN(x);\n    var stepNoNans = this.select(this.greater(x, tfjs_core_1.scalar(0, dtype)), tfjs_core_1.ones(x.shape), tfjs_core_1.fill(x.shape, alpha, dtype));\n    return this.select(nans, x, stepNoNans);\n  };\n\n  NodeJSKernelBackend.prototype.conv2d = function (x, filter, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'use_cudnn_on_gpu',\n      type: this.binding.TF_ATTR_BOOL,\n      value: true\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    return this.executeSingleOutput('Conv2D', opAttrs, [x, filter]);\n  };\n\n  NodeJSKernelBackend.prototype.conv2dDerInput = function (dy, filter, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', 'float32'), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'use_cudnn_on_gpu',\n      type: this.binding.TF_ATTR_BOOL,\n      value: true\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    var inputSizes = tfjs_core_1.tensor1d(convInfo.inShape, 'int32');\n    return this.executeSingleOutput('Conv2DBackpropInput', opAttrs, [inputSizes, filter, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.conv2dDerFilter = function (x, dy, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', 'float32'), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'use_cudnn_on_gpu',\n      type: this.binding.TF_ATTR_BOOL,\n      value: true\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    var filterSizes = tfjs_core_1.tensor1d(convInfo.filterShape, 'int32');\n    return this.executeSingleOutput('Conv2DBackpropFilter', opAttrs, [x, filterSizes, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.depthwiseConv2DDerInput = function (dy, filter, convInfo) {\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', 'float32'), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    var inputSizes = tfjs_core_1.tensor1d(convInfo.inShape, 'int32');\n    return this.executeSingleOutput('DepthwiseConv2dNativeBackpropInput', opAttrs, [inputSizes, filter, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.depthwiseConv2DDerFilter = function (x, dY, convInfo) {\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', 'float32'), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    var filterSizes = tfjs_core_1.tensor1d(convInfo.filterShape, 'int32');\n    return this.executeSingleOutput('DepthwiseConv2dNativeBackpropFilter', opAttrs, [x, filterSizes, dY]);\n  };\n\n  NodeJSKernelBackend.prototype.fusedDepthwiseConv2D = function (_a) {\n    var input = _a.input,\n        filter = _a.filter,\n        convInfo = _a.convInfo,\n        bias = _a.bias,\n        activation = _a.activation,\n        preluActivationWeights = _a.preluActivationWeights;\n    var result = this.depthwiseConv2D(input, filter, convInfo);\n\n    if (bias != null) {\n      result = this.add(result, bias);\n    }\n\n    result = this.applyActivation(result, activation, preluActivationWeights);\n    return result;\n  };\n\n  NodeJSKernelBackend.prototype.depthwiseConv2D = function (input, filter, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', input.dtype), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    return this.executeSingleOutput('DepthwiseConv2dNative', opAttrs, [input, filter]);\n  };\n\n  NodeJSKernelBackend.prototype.conv3d = function (x, filter, convInfo) {\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n\n    if (!this.isGPUPackage && convInfo.dilationDepth > 1) {\n      throw new Error('CPU Dilation depth must be 1');\n    }\n\n    var dilations = [1, convInfo.dilationDepth, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    return this.executeSingleOutput('Conv3D', opAttrs, [x, filter]);\n  };\n\n  NodeJSKernelBackend.prototype.conv3dDerInput = function (dy, filter, convInfo) {\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n\n    if (!this.isGPUPackage && convInfo.dilationDepth > 1) {\n      throw new Error('CPU Dilation depth must be 1');\n    }\n\n    var dilations = [1, convInfo.dilationDepth, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', dy.dtype), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }, createTypeOpAttr('Tshape', 'int32')];\n    var inputSizes = tfjs_core_1.tensor1d(convInfo.inShape, 'int32');\n    return this.executeSingleOutput('Conv3DBackpropInputV2', opAttrs, [inputSizes, filter, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.conv3dDerFilter = function (x, dY, convInfo) {\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n\n    if (!this.isGPUPackage && convInfo.dilationDepth > 1) {\n      throw new Error('CPU Dilation depth must be 1');\n    }\n\n    var dilations = [1, convInfo.dilationDepth, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'dilations',\n      type: this.binding.TF_ATTR_INT,\n      value: dilations\n    }];\n    var filterSizes = tfjs_core_1.tensor1d(convInfo.filterShape, 'int32');\n    return this.executeSingleOutput('Conv3DBackpropFilterV2', opAttrs, [x, filterSizes, dY]);\n  };\n\n  NodeJSKernelBackend.prototype.maxPool = function (x, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    return this.executeSingleOutput('MaxPool', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.maxPoolBackprop = function (dy, x, y, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding type was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    return this.executeSingleOutput('MaxPoolGrad', opAttrs, [x, y, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.avgPool = function (x, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    return this.executeSingleOutput('AvgPool', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.avgPoolBackprop = function (dy, x, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding type was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    var origInputShape = tfjs_core_1.tensor1d(x.shape, 'int32');\n    return this.executeSingleOutput('AvgPoolGrad', opAttrs, [origInputShape, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.avgPool3d = function (x, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    return this.executeSingleOutput('AvgPool3D', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.avgPool3dBackprop = function (dy, x, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding type was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    var origInputShape = tfjs_core_1.tensor1d(x.shape, 'int32');\n    return this.executeSingleOutput('AvgPool3DGrad', opAttrs, [origInputShape, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.maxPool3d = function (x, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    return this.executeSingleOutput('MaxPool3D', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.maxPool3dBackprop = function (dy, x, y, convInfo) {\n    if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n      throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" + (\"while padding type was \" + convInfo.padInfo.type));\n    }\n\n    var ksize = [1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1];\n    var strides = [1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1];\n    var padding = convInfo.padInfo.type;\n    var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'ksize',\n      type: this.binding.TF_ATTR_INT,\n      value: ksize\n    }, {\n      name: 'strides',\n      type: this.binding.TF_ATTR_INT,\n      value: strides\n    }, {\n      name: 'padding',\n      type: this.binding.TF_ATTR_STRING,\n      value: padding\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    return this.executeSingleOutput('MaxPool3DGrad', opAttrs, [x, y, dy]);\n  };\n\n  NodeJSKernelBackend.prototype.reshape = function (x, shape) {\n    var shapeTensor = tfjs_core_1.tensor1d(shape, 'int32');\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tshape', shapeTensor.dtype)];\n    return this.executeSingleOutput('Reshape', opAttrs, [x, shapeTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.cast = function (x, dtype) {\n    var opAttrs = [createTypeOpAttr('SrcT', x.dtype), createTypeOpAttr('DstT', dtype), {\n      name: 'Truncate',\n      type: this.binding.TF_ATTR_BOOL,\n      value: false\n    }];\n    return this.executeSingleOutput('Cast', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.tile = function (x, reps) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tmultiples', 'int32')];\n    var multiples = tfjs_core_1.tensor1d(reps, 'int32');\n    return this.executeSingleOutput('Tile', opAttrs, [x, multiples]);\n  };\n\n  NodeJSKernelBackend.prototype.pad = function (x, paddings, constantValue) {\n    // Bind tensor values\n    var paddingsTensor = tfjs_core_1.tensor2d(paddings, [paddings.length, 2], 'int32');\n    var constantTensor = tfjs_core_1.scalar(constantValue, x.dtype);\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tpaddings', paddingsTensor.dtype)];\n    return this.executeSingleOutput('PadV2', opAttrs, [x, paddingsTensor, constantTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.transpose = function (x, perm) {\n    var permTensor = tfjs_core_1.tensor1d(perm, 'int32');\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tperm', 'int32')];\n    return this.executeSingleOutput('Transpose', opAttrs, [x, permTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.gather = function (x, indices, axis) {\n    var axisTensor = tfjs_core_1.scalar(axis, 'int32');\n    var opAttrs = [createTypeOpAttr('Tparams', x.dtype), createTypeOpAttr('Tindices', indices.dtype), createTypeOpAttr('Taxis', 'int32')];\n    return this.executeSingleOutput('GatherV2', opAttrs, [x, indices, axisTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.gatherND = function (x, indices) {\n    var opAttrs = [createTypeOpAttr('Tparams', x.dtype), createTypeOpAttr('Tindices', 'int32')];\n    return this.executeSingleOutput('GatherNd', opAttrs, [x, indices]);\n  };\n\n  NodeJSKernelBackend.prototype.scatterND = function (indices, updates, shape) {\n    var opAttrs = [createTypeOpAttr('T', updates.dtype), createTypeOpAttr('Tindices', 'int32')];\n    var shapeTensor = tfjs_core_1.tensor1d(shape, 'int32');\n    return this.executeSingleOutput('ScatterNd', opAttrs, [indices, updates, shapeTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.batchToSpaceND = function (x, blockShape, crops) {\n    var blockShapeTensor = tfjs_core_1.tensor1d(blockShape, 'int32');\n    var cropsTensor = tfjs_core_1.tensor2d(crops, [crops.length, crops[0].length], 'int32');\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tblock_shape', 'int32'), createTypeOpAttr('Tcrops', cropsTensor.dtype)];\n    return this.executeSingleOutput('BatchToSpaceND', opAttrs, [x, blockShapeTensor, cropsTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.spaceToBatchND = function (x, blockShape, paddings) {\n    var blockShapeTensor = tfjs_core_1.tensor1d(blockShape, 'int32');\n    var paddingsTensor = tfjs_core_1.tensor2d(paddings, [paddings.length, paddings[0].length], 'int32');\n    var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tblock_shape', 'int32'), createTypeOpAttr('Tpaddings', paddingsTensor.dtype)];\n    return this.executeSingleOutput('SpaceToBatchND', opAttrs, [x, blockShapeTensor, paddingsTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.resizeBilinear = function (x, newHeight, newWidth, alignCorners) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'align_corners',\n      type: this.binding.TF_ATTR_BOOL,\n      value: alignCorners\n    }];\n    var size = tfjs_core_1.tensor1d([newHeight, newWidth], 'int32');\n    return this.executeSingleOutput('ResizeBilinear', opAttrs, [x, size]);\n  };\n\n  NodeJSKernelBackend.prototype.resizeBilinearBackprop = function (dy, x, alignCorners) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'align_corners',\n      type: this.binding.TF_ATTR_BOOL,\n      value: alignCorners\n    }];\n    return this.executeSingleOutput('ResizeBilinearGrad', opAttrs, [dy, x]);\n  };\n\n  NodeJSKernelBackend.prototype.resizeNearestNeighbor = function (x, newHeight, newWidth, alignCorners) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'align_corners',\n      type: this.binding.TF_ATTR_BOOL,\n      value: alignCorners\n    }];\n    var size = tfjs_core_1.tensor1d([newHeight, newWidth], 'int32');\n    return this.executeSingleOutput('ResizeNearestNeighbor', opAttrs, [x, size]);\n  };\n\n  NodeJSKernelBackend.prototype.resizeNearestNeighborBackprop = function (dy, x, alignCorners) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'align_corners',\n      type: this.binding.TF_ATTR_BOOL,\n      value: alignCorners\n    }];\n    var _a = x.shape,\n        origHeight = _a[1],\n        origWidth = _a[2];\n    var size = tfjs_core_1.tensor1d([origHeight, origWidth], 'int32');\n    return this.executeSingleOutput('ResizeNearestNeighborGrad', opAttrs, [dy, size]);\n  };\n\n  NodeJSKernelBackend.prototype.batchNormalization = function (x, mean, variance, varianceEpsilon, scale, offset) {\n    if (mean.rank > 1) {\n      // Fused batch norm doesn't work with high-dim mean/var/scale/offset.\n      var inv = tfjs_core_1.rsqrt(variance.add(tfjs_core_1.scalar(varianceEpsilon)));\n\n      if (scale != null) {\n        inv = inv.mul(scale);\n      }\n\n      var xNorm = x.sub(mean).mul(inv);\n      return offset != null ? xNorm.add(offset) : xNorm;\n    }\n\n    var dataFormat = 'NHWC';\n    var depth = x.shape[3];\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'epsilon',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: varianceEpsilon\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }, {\n      name: 'is_training',\n      type: this.binding.TF_ATTR_BOOL,\n      value: false\n    }];\n    var numOutputs = 5;\n\n    if (scale == null) {\n      scale = tfjs_core_1.fill([depth], 1);\n    }\n\n    if (offset == null) {\n      offset = tfjs_core_1.fill([depth], 0);\n    }\n\n    return this.executeMultipleOutputs('FusedBatchNorm', opAttrs, [x, scale, offset, mean, variance], numOutputs)[0];\n  };\n\n  NodeJSKernelBackend.prototype.localResponseNormalization4D = function (x, radius, bias, alpha, beta) {\n    var opAttrs = [createTypeOpAttr('T', x.dtype), {\n      name: 'depth_radius',\n      type: this.binding.TF_ATTR_INT,\n      value: radius\n    }, {\n      name: 'bias',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: bias\n    }, {\n      name: 'alpha',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: alpha\n    }, {\n      name: 'beta',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: beta\n    }];\n    return this.executeSingleOutput('LRN', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.LRNGrad = function (dy, inputImage, outputImage, radius, bias, alpha, beta) {\n    var opAttrs = [createTypeOpAttr('T', dy.dtype), {\n      name: 'depth_radius',\n      type: this.binding.TF_ATTR_INT,\n      value: radius\n    }, {\n      name: 'bias',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: bias\n    }, {\n      name: 'alpha',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: alpha\n    }, {\n      name: 'beta',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: beta\n    }];\n    return this.executeSingleOutput('LRNGrad', opAttrs, [dy, inputImage, outputImage]);\n  };\n\n  NodeJSKernelBackend.prototype.multinomial = function (logits, normalized, numSamples, seed) {\n    if (normalized) {\n      throw new Error('TF Node backend does not support normalized logits ' + 'passed to multinomial');\n    }\n\n    var opAttrs = [createTypeOpAttr('T', logits.dtype), createTypeOpAttr('output_dtype', 'int32'), {\n      name: 'seed',\n      type: this.binding.TF_ATTR_INT,\n      value: seed\n    }, {\n      name: 'seed2',\n      type: this.binding.TF_ATTR_INT,\n      value: seed * seed\n    }];\n    return this.executeSingleOutput('Multinomial', opAttrs, [logits, tfjs_core_1.scalar(numSamples, 'int32')]);\n  };\n\n  NodeJSKernelBackend.prototype.oneHot = function (indices, depth, onValue, offValue) {\n    var depthTensor = tfjs_core_1.scalar(depth, 'int32');\n    var onValueTensor = tfjs_core_1.scalar(onValue, 'int32');\n    var offValueTensor = tfjs_core_1.scalar(offValue, 'int32');\n    var opAttrs = [{\n      name: 'axis',\n      type: this.binding.TF_ATTR_INT,\n      value: -1\n    }, createTypeOpAttr('T', indices.dtype), createTypeOpAttr('TI', indices.dtype)];\n    return this.executeSingleOutput('OneHot', opAttrs, [indices, depthTensor, onValueTensor, offValueTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.cumsum = function (x, axis, exclusive, reverse) {\n    var axisTensor = tfjs_core_1.scalar(axis, 'int32');\n    var opAttrs = [{\n      name: 'exclusive',\n      type: this.binding.TF_ATTR_BOOL,\n      value: exclusive\n    }, {\n      name: 'reverse',\n      type: this.binding.TF_ATTR_BOOL,\n      value: reverse\n    }, createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tidx', 'int32')];\n    return this.executeSingleOutput('Cumsum', opAttrs, [x, axisTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.nonMaxSuppression = function (boxes, scores, maxOutputSize, iouThreshold, scoreThreshold) {\n    var opAttrs = [createTypeOpAttr('T', boxes.dtype)];\n    var maxOutputSizeTensor = tfjs_core_1.scalar(maxOutputSize, 'int32');\n    var iouThresholdTensor = tfjs_core_1.scalar(iouThreshold);\n    var scoreThresholdTensor = tfjs_core_1.scalar(scoreThreshold);\n    return this.executeSingleOutput('NonMaxSuppressionV3', opAttrs, [boxes, scores, maxOutputSizeTensor, iouThresholdTensor, scoreThresholdTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.fft = function (x) {\n    var opAttrs = [createTypeOpAttr('Tcomplex', x.dtype)];\n    return this.executeSingleOutput('FFT', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.ifft = function (x) {\n    var opAttrs = [createTypeOpAttr('Tcomplex', x.dtype)];\n    return this.executeSingleOutput('IFFT', opAttrs, [x]);\n  };\n\n  NodeJSKernelBackend.prototype.complex = function (real, imag) {\n    var opAttrs = [createTensorsTypeOpAttr('T', real), {\n      name: 'Tout',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_COMPLEX64\n    }];\n    var inputs = [real, imag];\n    return this.executeSingleOutput('Complex', opAttrs, inputs);\n  };\n\n  NodeJSKernelBackend.prototype.real = function (input) {\n    var opAttrs = [createTensorsTypeOpAttr('T', input), {\n      name: 'Tout',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_FLOAT\n    }];\n    var inputs = [input];\n    return this.executeSingleOutput('Real', opAttrs, inputs);\n  };\n\n  NodeJSKernelBackend.prototype.imag = function (input) {\n    var opAttrs = [{\n      name: 'T',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_COMPLEX64\n    }, {\n      name: 'Tout',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_FLOAT\n    }];\n    var inputs = [input];\n    return this.executeSingleOutput('Imag', opAttrs, inputs);\n  };\n\n  NodeJSKernelBackend.prototype.cropAndResize = function (image, boxes, boxIndex, cropSize, method, extrapolationValue) {\n    var opAttrs = [createTypeOpAttr('T', image.dtype), {\n      name: 'method',\n      type: this.binding.TF_ATTR_STRING,\n      value: method\n    }, {\n      name: 'extrapolation_value',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: extrapolationValue\n    }];\n    var cropSizeTensor = tfjs_core_1.tensor1d(cropSize, 'int32');\n    return this.executeSingleOutput('CropAndResize', opAttrs, [image, boxes, boxIndex, cropSizeTensor]);\n  };\n\n  NodeJSKernelBackend.prototype.depthToSpace = function (x, blockSize, dataFormat) {\n    var opAttrs = [createTensorsTypeOpAttr('T', x), {\n      name: 'block_size',\n      type: this.binding.TF_ATTR_INT,\n      value: blockSize < 2 ? 2 : blockSize\n    }, {\n      name: 'data_format',\n      type: this.binding.TF_ATTR_STRING,\n      value: dataFormat\n    }];\n    var inputs = [x];\n    return this.executeSingleOutput('DepthToSpace', opAttrs, inputs);\n  };\n\n  NodeJSKernelBackend.prototype.split = function (value, sizeSplits, axis) {\n    var opAttrs = [{\n      name: 'num_split',\n      type: this.binding.TF_ATTR_INT,\n      value: sizeSplits.length\n    }, createTensorsTypeOpAttr('T', value), {\n      name: 'Tlen',\n      type: this.binding.TF_ATTR_TYPE,\n      value: this.binding.TF_INT32\n    }];\n    var inputs = [value];\n    inputs.push(tfjs_core_1.tensor1d(sizeSplits, 'int32'));\n    inputs.push(tfjs_core_1.scalar(axis, 'int32'));\n    return this.executeMultipleOutputs('SplitV', opAttrs, inputs, sizeSplits.length);\n  };\n\n  NodeJSKernelBackend.prototype.sparseToDense = function (sparseIndices, sparseValues, outputShape, defaultValue) {\n    var opAttrs = [{\n      name: 'validate_indices',\n      type: this.binding.TF_ATTR_BOOL,\n      value: true\n    }, createTypeOpAttr('T', sparseValues.dtype), createTypeOpAttr('Tindices', sparseIndices.dtype)];\n    var outputShapeTensor = tfjs_core_1.tensor1d(outputShape, 'int32');\n    return this.executeSingleOutput('SparseToDense', opAttrs, [sparseIndices, outputShapeTensor, sparseValues, defaultValue]);\n  };\n\n  NodeJSKernelBackend.prototype.linspace = function (start, stop, num) {\n    var opAttrs = [createTypeOpAttr('T', 'float32'), createTypeOpAttr('Tidx', 'int32')];\n    var inputs = [tfjs_core_1.scalar(start, 'float32'), tfjs_core_1.scalar(stop, 'float32'), tfjs_core_1.scalar(num, 'int32')];\n    return this.executeSingleOutput('LinSpace', opAttrs, inputs);\n  };\n\n  NodeJSKernelBackend.prototype.decodeJpeg = function (contents, channels, ratio, fancyUpscaling, tryRecoverTruncated, acceptableFraction, dctMethod) {\n    var opAttrs = [{\n      name: 'channels',\n      type: this.binding.TF_ATTR_INT,\n      value: channels\n    }, {\n      name: 'ratio',\n      type: this.binding.TF_ATTR_INT,\n      value: ratio\n    }, {\n      name: 'fancy_upscaling',\n      type: this.binding.TF_ATTR_BOOL,\n      value: fancyUpscaling\n    }, {\n      name: 'try_recover_truncated',\n      type: this.binding.TF_ATTR_BOOL,\n      value: tryRecoverTruncated\n    }, {\n      name: 'acceptable_fraction',\n      type: this.binding.TF_ATTR_FLOAT,\n      value: acceptableFraction\n    }, {\n      name: 'dct_method',\n      type: this.binding.TF_ATTR_STRING,\n      value: dctMethod\n    }];\n    var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n    return this.executeSingleOutput('DecodeJpeg', opAttrs, inputArgs);\n  };\n\n  NodeJSKernelBackend.prototype.decodePng = function (contents, channels) {\n    var opAttrs = [{\n      name: 'channels',\n      type: this.binding.TF_ATTR_INT,\n      value: channels\n    }];\n    var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n    return this.executeSingleOutput('DecodePng', opAttrs, inputArgs);\n  };\n\n  NodeJSKernelBackend.prototype.decodeBmp = function (contents, channels) {\n    var opAttrs = [{\n      name: 'channels',\n      type: this.binding.TF_ATTR_INT,\n      value: channels\n    }];\n    var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n    return this.executeSingleOutput('DecodeBmp', opAttrs, inputArgs);\n  };\n\n  NodeJSKernelBackend.prototype.decodeGif = function (contents) {\n    var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n    return this.executeSingleOutput('DecodeGif', [], inputArgs);\n  };\n\n  NodeJSKernelBackend.prototype.executeEncodeImageOp = function (name, opAttrs, imageData, imageShape) {\n    var inputTensorId = this.binding.createTensor(imageShape, this.binding.TF_UINT8, imageData);\n    var outputMetadata = this.binding.executeOp(name, opAttrs, [inputTensorId], 1);\n    var outputTensorInfo = outputMetadata[0]; // prevent the tensor data from being converted to a UTF8 string, since\n    // the encoded data is not valid UTF8\n\n    outputTensorInfo.dtype = this.binding.TF_UINT8;\n    return this.createOutputTensor(outputTensorInfo);\n  };\n\n  NodeJSKernelBackend.prototype.encodeJpeg = function (imageData, imageShape, format, quality, progressive, optimizeSize, chromaDownsampling, densityUnit, xDensity, yDensity, xmpMetadata) {\n    var opAttrs = [{\n      name: 'format',\n      type: this.binding.TF_ATTR_STRING,\n      value: format\n    }, {\n      name: 'quality',\n      type: this.binding.TF_ATTR_INT,\n      value: quality\n    }, {\n      name: 'progressive',\n      type: this.binding.TF_ATTR_BOOL,\n      value: progressive\n    }, {\n      name: 'optimize_size',\n      type: this.binding.TF_ATTR_BOOL,\n      value: optimizeSize\n    }, {\n      name: 'chroma_downsampling',\n      type: this.binding.TF_ATTR_BOOL,\n      value: chromaDownsampling\n    }, {\n      name: 'density_unit',\n      type: this.binding.TF_ATTR_STRING,\n      value: densityUnit\n    }, {\n      name: 'x_density',\n      type: this.binding.TF_ATTR_INT,\n      value: xDensity\n    }, {\n      name: 'y_density',\n      type: this.binding.TF_ATTR_INT,\n      value: yDensity\n    }, {\n      name: 'xmp_metadata',\n      type: this.binding.TF_ATTR_STRING,\n      value: xmpMetadata\n    }];\n    return this.executeEncodeImageOp('EncodeJpeg', opAttrs, imageData, imageShape);\n  };\n\n  NodeJSKernelBackend.prototype.encodePng = function (imageData, imageShape, compression) {\n    var opAttrs = [{\n      name: 'compression',\n      type: this.binding.TF_ATTR_INT,\n      value: compression\n    }];\n    return this.executeEncodeImageOp('EncodePng', opAttrs, imageData, imageShape);\n  };\n\n  NodeJSKernelBackend.prototype.deleteSavedModel = function (id) {\n    this.binding.deleteSavedModel(id);\n  };\n\n  NodeJSKernelBackend.prototype.loadSavedModelMetaGraph = function (path, tags) {\n    return this.binding.loadSavedModel(path, tags);\n  };\n\n  NodeJSKernelBackend.prototype.runSavedModel = function (id, inputs, inputOpNames, outputOpNames) {\n    var _this = this;\n\n    var outputMetadata = this.binding.runSavedModel(id, this.getInputTensorIds(inputs), inputOpNames.join(','), outputOpNames.join(','));\n    return outputMetadata.map(function (m) {\n      return _this.createOutputTensor(m);\n    });\n  }; // ------------------------------------------------------------\n  // TensorBoard-related (tfjs-node-specific) backend kernels.\n\n\n  NodeJSKernelBackend.prototype.summaryWriter = function (logdir) {\n    var opAttrs = [{\n      name: 'shared_name',\n      type: this.binding.TF_ATTR_STRING,\n      value: \"logdir:\" + logdir\n    }, {\n      name: 'container',\n      type: this.binding.TF_ATTR_STRING,\n      value: ''\n    }];\n    var writerResource = this.executeSingleOutput('SummaryWriter', opAttrs, []);\n    return writerResource;\n  };\n\n  NodeJSKernelBackend.prototype.createSummaryFileWriter = function (resourceHandle, logdir, maxQueue, flushMillis, filenameSuffix) {\n    var inputArgs = [resourceHandle, tfjs_core_1.scalar(logdir), tfjs_core_1.scalar(maxQueue == null ? 10 : maxQueue, 'int32'), tfjs_core_1.scalar(flushMillis == null ? 2 * 60 * 1000 : flushMillis, 'int32'), tfjs_core_1.scalar(filenameSuffix == null ? '.v2' : filenameSuffix)];\n    this.executeMultipleOutputs('CreateSummaryFileWriter', [], inputArgs, 0);\n  };\n\n  NodeJSKernelBackend.prototype.writeScalarSummary = function (resourceHandle, step, name, value) {\n    var _this = this;\n\n    tfjs_core_1.tidy(function () {\n      tfjs_core_1.util.assert(Number.isInteger(step), function () {\n        return \"step is expected to be an integer, but is instead \" + step;\n      });\n      var inputArgs = [resourceHandle, new int64_tensors_1.Int64Scalar(step), tfjs_core_1.scalar(name, 'string')];\n      var typeAttr;\n\n      if (typeof value === 'number') {\n        inputArgs.push(tfjs_core_1.scalar(value));\n        typeAttr = _this.binding.TF_FLOAT;\n      } else {\n        // `value` is a Scalar.\n        tfjs_core_1.util.assert(value.rank === 0, function () {\n          return \"A non-scalar tensor (rank \" + value.rank + \") is passed to \" + \"writeScalarSummary()\";\n        });\n        inputArgs.push(value);\n        typeAttr = _this.typeAttributeFromTensor(value);\n      }\n\n      var opAttrs = [{\n        name: 'T',\n        type: _this.binding.TF_ATTR_TYPE,\n        value: typeAttr\n      }];\n\n      _this.binding.executeOp('WriteScalarSummary', opAttrs, _this.getInputTensorIds(inputArgs), 0);\n    });\n  };\n\n  NodeJSKernelBackend.prototype.flushSummaryWriter = function (resourceHandle) {\n    var inputArgs = [resourceHandle];\n    this.executeMultipleOutputs('FlushSummaryWriter', [], inputArgs, 0);\n  }; // ~ TensorBoard-related (tfjs-node-specific) backend kernels.\n  // ------------------------------------------------------------\n\n\n  NodeJSKernelBackend.prototype.memory = function () {\n    // Due to automatic garbage collection, the numbers are unreliable.\n    // TODO(kreeger): Since there is finalization in C, count the true\n    // number of undisposed tensors.\n    return {\n      unreliable: true\n    };\n  };\n\n  NodeJSKernelBackend.prototype.time = function (f) {\n    return __awaiter(this, void 0, void 0, function () {\n      var start, elapsed;\n      return __generator(this, function (_a) {\n        start = process.hrtime();\n        f();\n        elapsed = process.hrtime(start);\n        return [2\n        /*return*/\n        , {\n          kernelMs: elapsed[0] * 1000 + elapsed[1] / 1000000\n        }];\n      });\n    });\n  };\n\n  NodeJSKernelBackend.prototype.getNumOfSavedModels = function () {\n    return this.binding.getNumOfSavedModels();\n  };\n\n  return NodeJSKernelBackend;\n}(tfjs_core_1.KernelBackend);\n\nexports.NodeJSKernelBackend = NodeJSKernelBackend;\n/** Returns an instance of the Node.js backend. */\n\nfunction nodeBackend() {\n  return tfc.findBackend('tensorflow');\n}\n\nexports.nodeBackend = nodeBackend;\n/** Returns the TF dtype for a given DataType. */\n\nfunction getTFDType(dataType) {\n  var binding = nodeBackend().binding;\n\n  switch (dataType) {\n    case 'float32':\n      return binding.TF_FLOAT;\n\n    case 'int32':\n      return binding.TF_INT32;\n\n    case 'bool':\n      return binding.TF_BOOL;\n\n    case 'complex64':\n      return binding.TF_COMPLEX64;\n\n    case 'string':\n      return binding.TF_STRING;\n    // tslint:disable-next-line:no-any\n\n    case 'int64':\n      // int64 is not a generally supported dtype in TensorFlow.js\n      // (tfjs-core). However, it needs to be included here for the purpose of\n      // writing the `step` value to TensorBoard via WriteScalarSummary and\n      // other op kernels.\n      return binding.TF_INT64;\n\n    default:\n      var errorMessage = \"Unknown dtype: \" + dataType;\n      throw new Error(errorMessage);\n  }\n}\n\nexports.getTFDType = getTFDType;\n/**\n * Creates a TFEOpAttr for a 'type' OpDef attribute.\n * @deprecated Please use createTensorsTypeOpAttr() going forward.\n */\n\nfunction createTypeOpAttr(attrName, dtype) {\n  return {\n    name: attrName,\n    type: nodeBackend().binding.TF_ATTR_TYPE,\n    value: getTFDType(dtype)\n  };\n}\n\nexports.createTypeOpAttr = createTypeOpAttr;\n/**\n * Creates a TFEOpAttr for a 'type' OpDef attribute from a Tensor or list of\n * Tensors.\n */\n\nfunction createTensorsTypeOpAttr(attrName, tensors) {\n  if (util_1.isNullOrUndefined(tensors)) {\n    throw new Error('Invalid input tensors value.');\n  }\n\n  return {\n    name: attrName,\n    type: nodeBackend().binding.TF_ATTR_TYPE,\n    value: getTFDTypeForInputs(tensors)\n  };\n}\n\nexports.createTensorsTypeOpAttr = createTensorsTypeOpAttr;\n/** Returns the dtype number for a single or list of input Tensors. */\n\nfunction getTFDTypeForInputs(tensors) {\n  if (util_1.isNullOrUndefined(tensors)) {\n    throw new Error('Invalid input tensors value.');\n  }\n\n  if (util_1.isArray(tensors)) {\n    for (var i = 0; i < tensors.length; i++) {\n      return getTFDType(tensors[i].dtype);\n    }\n\n    return -1;\n  } else {\n    return getTFDType(tensors.dtype);\n  }\n}\n\nfunction ensureTensorflowBackend() {\n  tfc.util.assert(tfc.getBackend() === 'tensorflow', function () {\n    return \"Expect the current backend to be \\\"tensorflow\\\", but got \\\"\" + tfc.getBackend() + \"\\\"\";\n  });\n}\n\nexports.ensureTensorflowBackend = ensureTensorflowBackend;","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/@tensorflow/tfjs-node/dist/nodejs_kernel_backend.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","defineProperty","exports","tfc","require","tfjs_core_1","backend_1","util_1","int64_tensors_1","NodeJSKernelBackend","_super","binding","packageName","_this","isGPUPackage","isUsingGpuDevice","tensorMap","DataStorage","engine","getDTypeInteger","dtype","TF_FLOAT","TF_INT32","TF_BOOL","TF_COMPLEX64","TF_STRING","Error","typeAttributeFromTensor","createOutputTensor","metadata","newId","set","shape","id","values","TF_RESOURCE","TF_UINT8","makeTensorFromDataId","getInputTensorIds","tensors","ids","i","Int64Scalar","valueArray","createTensor","TF_INT64","info","get","dataId","createReductionOpAttrs","tensor","name","type","TF_ATTR_BOOL","createTypeOpAttr","executeSingleInput","input","opAttrs","executeSingleOutput","floatPrecision","epsilon","EPSILON_FLOAT32","inputs","outputMetadata","executeOp","executeMultipleOutputs","numOutputs","map","m","numDataIds","dispose","read","_a","readSync","has","tensorDataSync","disposeData","deleteTensor","delete","move","getTFDType","write","fill","shapeTensor","tensor1d","valueTensor","scalar","TF_ATTR_TYPE","onesLike","x","zerosLike","stridedSlice","begin","end","strides","beginTensor","axis","endTensor","stridesTensor","TF_ATTR_INT","unstack","num","batchMatMul","a","transposeA","transposeB","applyActivation","activation","preluActivationWeights","relu","prelu","elu","relu6","fusedConv2d","filter","convInfo","bias","conv2d","add","fusedBatchMatMul","slice","size","sizeTensor","reverse","axisTensor","concat","createTensorsTypeOpAttr","from","neg","diag","backend_util","upcastType","select","condition","addN","subtract","multiply","realDivide","floorDiv","divide","divNoNan","unsortedSegmentSum","segmentIds","numSegments","sum","axes","prod","axesTensor","argMin","xInput","toInt","axisScalar","argMax","equal","notEqual","less","lessEqual","greater","greaterEqual","logicalNot","logicalAnd","logicalOr","where","topKValues","k","topKIndices","topk","sorted","kCount","isNullOrUndefined","isSorted","kTensor","min","minimum","max","maximum","all","any","ceil","floor","pow","cast","exp","xTensor","toFloat","log","log1p","sqrt","square","pos","mul","sub","abs","eluDer","dy","selu","int","clip","xMin","complexAbs","sigmoid","sin","cos","tan","asin","acos","atan","sinh","cosh","tanh","mod","round","sign","isNaN","isInf","isFinite","rsqrt","reciprocal","asinh","acosh","atanh","erf","squaredDifference","expm1","softplus","atan2","alpha","nans","stepNoNans","ones","padInfo","strideHeight","strideWidth","padding","dataFormat","dilations","dilationHeight","dilationWidth","TF_ATTR_STRING","conv2dDerInput","inputSizes","inShape","conv2dDerFilter","filterSizes","filterShape","depthwiseConv2DDerInput","depthwiseConv2DDerFilter","dY","fusedDepthwiseConv2D","depthwiseConv2D","conv3d","strideDepth","dilationDepth","conv3dDerInput","conv3dDerFilter","maxPool","ksize","filterHeight","filterWidth","maxPoolBackprop","avgPool","avgPoolBackprop","origInputShape","avgPool3d","filterDepth","avgPool3dBackprop","maxPool3d","maxPool3dBackprop","reshape","tile","reps","multiples","pad","paddings","constantValue","paddingsTensor","tensor2d","constantTensor","transpose","perm","permTensor","gather","indices","gatherND","scatterND","updates","batchToSpaceND","blockShape","crops","blockShapeTensor","cropsTensor","spaceToBatchND","resizeBilinear","newHeight","newWidth","alignCorners","resizeBilinearBackprop","resizeNearestNeighbor","resizeNearestNeighborBackprop","origHeight","origWidth","batchNormalization","mean","variance","varianceEpsilon","scale","offset","rank","inv","xNorm","depth","TF_ATTR_FLOAT","localResponseNormalization4D","radius","beta","LRNGrad","inputImage","outputImage","multinomial","logits","normalized","numSamples","seed","oneHot","onValue","offValue","depthTensor","onValueTensor","offValueTensor","cumsum","exclusive","nonMaxSuppression","boxes","scores","maxOutputSize","iouThreshold","scoreThreshold","maxOutputSizeTensor","iouThresholdTensor","scoreThresholdTensor","fft","ifft","complex","real","imag","cropAndResize","image","boxIndex","cropSize","method","extrapolationValue","cropSizeTensor","depthToSpace","blockSize","split","sizeSplits","sparseToDense","sparseIndices","sparseValues","outputShape","defaultValue","outputShapeTensor","linspace","start","stop","decodeJpeg","contents","channels","ratio","fancyUpscaling","tryRecoverTruncated","acceptableFraction","dctMethod","inputArgs","decodePng","decodeBmp","decodeGif","executeEncodeImageOp","imageData","imageShape","inputTensorId","outputTensorInfo","encodeJpeg","format","quality","progressive","optimizeSize","chromaDownsampling","densityUnit","xDensity","yDensity","xmpMetadata","encodePng","compression","deleteSavedModel","loadSavedModelMetaGraph","path","tags","loadSavedModel","runSavedModel","inputOpNames","outputOpNames","join","summaryWriter","logdir","writerResource","createSummaryFileWriter","resourceHandle","maxQueue","flushMillis","filenameSuffix","writeScalarSummary","tidy","util","assert","Number","isInteger","typeAttr","flushSummaryWriter","memory","unreliable","time","elapsed","process","hrtime","kernelMs","getNumOfSavedModels","KernelBackend","nodeBackend","findBackend","dataType","errorMessage","attrName","getTFDTypeForInputs","isArray","ensureTensorflowBackend","getBackend"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tfc = require(\"@tensorflow/tfjs-core\");\nvar tfjs_core_1 = require(\"@tensorflow/tfjs-core\");\n// tslint:disable-next-line: no-imports-from-dist\nvar backend_1 = require(\"@tensorflow/tfjs-core/dist/backends/backend\");\nvar util_1 = require(\"util\");\nvar int64_tensors_1 = require(\"./int64_tensors\");\nvar NodeJSKernelBackend = /** @class */ (function (_super) {\n    __extends(NodeJSKernelBackend, _super);\n    function NodeJSKernelBackend(binding, packageName) {\n        var _this = _super.call(this) || this;\n        _this.binding = binding;\n        _this.isGPUPackage = packageName === '@tensorflow/tfjs-node-gpu';\n        _this.isUsingGpuDevice = _this.binding.isUsingGpuDevice();\n        _this.tensorMap = new tfc.DataStorage(_this, tfc.engine());\n        return _this;\n    }\n    NodeJSKernelBackend.prototype.getDTypeInteger = function (dtype) {\n        switch (dtype) {\n            case 'float32':\n                return this.binding.TF_FLOAT;\n            case 'int32':\n                return this.binding.TF_INT32;\n            case 'bool':\n                return this.binding.TF_BOOL;\n            case 'complex64':\n                return this.binding.TF_COMPLEX64;\n            case 'string':\n                return this.binding.TF_STRING;\n            default:\n                throw new Error(\"Unsupported DType: \" + dtype);\n        }\n    };\n    NodeJSKernelBackend.prototype.typeAttributeFromTensor = function (value) {\n        return this.getDTypeInteger(value.dtype);\n    };\n    // Creates a new Tensor and maps the dataId to the passed in ID.\n    NodeJSKernelBackend.prototype.createOutputTensor = function (metadata) {\n        var newId = {};\n        this.tensorMap.set(newId, {\n            shape: metadata.shape,\n            dtype: metadata.dtype,\n            id: metadata.id,\n            values: null\n        });\n        var dtype;\n        switch (metadata.dtype) {\n            case this.binding.TF_FLOAT:\n                dtype = 'float32';\n                break;\n            case this.binding.TF_INT32:\n                dtype = 'int32';\n                break;\n            case this.binding.TF_BOOL:\n                dtype = 'bool';\n                break;\n            case this.binding.TF_COMPLEX64:\n                dtype = 'complex64';\n                break;\n            case this.binding.TF_STRING:\n                dtype = 'string';\n                break;\n            case this.binding.TF_RESOURCE:\n                // NOTE(cais): We currently represent resource-type Tensors\n                // as string of ubytes.\n                dtype = 'string';\n                break;\n            case this.binding.TF_UINT8:\n                // TensorFlow uses UINT8 as dtype for image tensor. UINT8 is not\n                // supported in TFJS yet, cast it to int32.\n                dtype = 'int32';\n                break;\n            default:\n                throw new Error(\"Unknown dtype enum \" + metadata.dtype);\n        }\n        return tfc.engine().makeTensorFromDataId(newId, metadata.shape, dtype);\n    };\n    // Prepares Tensor instances for Op execution.\n    NodeJSKernelBackend.prototype.getInputTensorIds = function (tensors) {\n        var ids = [];\n        for (var i = 0; i < tensors.length; i++) {\n            if (tensors[i] instanceof int64_tensors_1.Int64Scalar) {\n                // Then `tensors[i]` is a Int64Scalar, which we currently represent\n                // using an `Int32Array`.\n                var value = tensors[i].valueArray;\n                var id = this.binding.createTensor([], this.binding.TF_INT64, value);\n                ids.push(id);\n            }\n            else {\n                var info = this.tensorMap.get(tensors[i].dataId);\n                // TODO - what about ID in this case? Handle in write()??\n                if (info.values != null) {\n                    // Values were delayed to write into the TensorHandle. Do that before\n                    // Op execution and clear stored values.\n                    info.id =\n                        this.binding.createTensor(info.shape, info.dtype, info.values);\n                    info.values = null;\n                }\n                ids.push(info.id);\n            }\n        }\n        return ids;\n    };\n    NodeJSKernelBackend.prototype.createReductionOpAttrs = function (tensor) {\n        return [\n            { name: 'keep_dims', type: this.binding.TF_ATTR_BOOL, value: false },\n            createTypeOpAttr('T', tensor.dtype), createTypeOpAttr('Tidx', 'int32')\n        ];\n    };\n    NodeJSKernelBackend.prototype.executeSingleInput = function (name, input) {\n        var opAttrs = [createTypeOpAttr('T', input.dtype)];\n        return this.executeSingleOutput(name, opAttrs, [input]);\n    };\n    NodeJSKernelBackend.prototype.floatPrecision = function () {\n        return 32;\n    };\n    NodeJSKernelBackend.prototype.epsilon = function () {\n        return backend_1.EPSILON_FLOAT32;\n    };\n    /**\n     * Executes a TensorFlow Eager Op that provides one output Tensor.\n     * @param name The name of the Op to execute.\n     * @param opAttrs The list of Op attributes required to execute.\n     * @param inputs The list of input Tensors for the Op.\n     * @return A resulting Tensor from Op execution.\n     */\n    NodeJSKernelBackend.prototype.executeSingleOutput = function (name, opAttrs, inputs) {\n        var outputMetadata = this.binding.executeOp(name, opAttrs, this.getInputTensorIds(inputs), 1);\n        return this.createOutputTensor(outputMetadata[0]);\n    };\n    /**\n     * Executes a TensorFlow Eager Op that provides multiple output Tensors.\n     * @param name The name of the Op to execute.\n     * @param opAttrs The list of Op attributes required to execute.\n     * @param inputs The list of input Tensors for the Op.\n     * @param numOutputs The number of output Tensors for Op execution.\n     * @return A resulting Tensor array from Op execution.\n     */\n    NodeJSKernelBackend.prototype.executeMultipleOutputs = function (name, opAttrs, inputs, numOutputs) {\n        var _this = this;\n        var outputMetadata = this.binding.executeOp(name, opAttrs, this.getInputTensorIds(inputs), numOutputs);\n        return outputMetadata.map(function (m) { return _this.createOutputTensor(m); });\n    };\n    NodeJSKernelBackend.prototype.numDataIds = function () {\n        return this.tensorMap.numDataIds();\n    };\n    NodeJSKernelBackend.prototype.dispose = function () { };\n    NodeJSKernelBackend.prototype.read = function (dataId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.readSync(dataId)];\n            });\n        });\n    };\n    NodeJSKernelBackend.prototype.readSync = function (dataId) {\n        if (!this.tensorMap.has(dataId)) {\n            throw new Error(\"Tensor \" + dataId + \" was not registered!\");\n        }\n        var info = this.tensorMap.get(dataId);\n        if (info.values != null) {\n            return info.values;\n        }\n        else {\n            return this.binding.tensorDataSync(info.id);\n        }\n    };\n    NodeJSKernelBackend.prototype.disposeData = function (dataId) {\n        // No-op if already disposed.\n        if (!this.tensorMap.has(dataId)) {\n            return;\n        }\n        var id = this.tensorMap.get(dataId).id;\n        if (id != null && id >= 0) {\n            this.binding.deleteTensor(id);\n        }\n        this.tensorMap.delete(dataId);\n    };\n    NodeJSKernelBackend.prototype.move = function (dataId, values, shape, dtype) {\n        this.tensorMap.set(dataId, { shape: shape, dtype: getTFDType(dtype), values: values, id: -1 });\n    };\n    NodeJSKernelBackend.prototype.write = function (values, shape, dtype) {\n        var dataId = {};\n        this.move(dataId, values, shape, dtype);\n        return dataId;\n    };\n    NodeJSKernelBackend.prototype.fill = function (shape, value, dtype) {\n        // TODO(cais, nkreeger): Investigate whether this can be made into\n        // a dtype helper method. The underlying op kernel doesn't accept undefined\n        // or null dtype.\n        if (dtype == null) {\n            if (typeof value === 'number') {\n                dtype = 'float32';\n            }\n            else {\n                dtype = 'string';\n            }\n        }\n        var shapeTensor = tfjs_core_1.tensor1d(shape, 'int32');\n        var valueTensor = tfjs_core_1.scalar(value, dtype);\n        var opAttrs = [\n            {\n                name: 'T',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.getDTypeInteger(dtype)\n            },\n            {\n                name: 'index_type',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_INT32\n            }\n        ];\n        return this.executeSingleOutput('Fill', opAttrs, [shapeTensor, valueTensor]);\n    };\n    NodeJSKernelBackend.prototype.onesLike = function (x) {\n        var opAttrs = [{\n                name: 'T',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.getDTypeInteger(x.dtype)\n            }];\n        return this.executeSingleOutput('OnesLike', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.zerosLike = function (x) {\n        var opAttrs = [{\n                name: 'T',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.getDTypeInteger(x.dtype)\n            }];\n        return this.executeSingleOutput('ZerosLike', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.stridedSlice = function (x, begin, end, strides) {\n        var beginTensor = tfjs_core_1.tensor1d(begin, 'int32');\n        for (var axis = 0; axis < end.length; axis++) {\n            // Unlike Numpy, when the strides are negative, TF C uses -n-1 instead of\n            // -1 as the \"end\" in order to include the first element.\n            if (strides[axis] < 0 && end[axis] === -1) {\n                end[axis] -= x.shape[axis];\n            }\n        }\n        var endTensor = tfjs_core_1.tensor1d(end, 'int32');\n        var stridesTensor = tfjs_core_1.tensor1d(strides, 'int32');\n        // All of the masks have already been accounted for in the high level op,\n        // so the backend does NOT need to deal with masks.\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Index', 'int32'),\n            { name: 'begin_mask', type: this.binding.TF_ATTR_INT, value: 0 },\n            { name: 'end_mask', type: this.binding.TF_ATTR_INT, value: 0 },\n            { name: 'ellipsis_mask', type: this.binding.TF_ATTR_INT, value: 0 },\n            { name: 'new_axis_mask', type: this.binding.TF_ATTR_INT, value: 0 },\n            { name: 'shrink_axis_mask', type: this.binding.TF_ATTR_INT, value: 0 }\n        ];\n        return this.executeSingleOutput('StridedSlice', opAttrs, [x, beginTensor, endTensor, stridesTensor]);\n    };\n    NodeJSKernelBackend.prototype.unstack = function (x, axis) {\n        if (axis >= x.shape.length) {\n            throw new Error(\"Invalid axis supplied: \" + axis + \" shape length: \" + x.shape.length);\n        }\n        var num = x.shape[axis];\n        var opAttrs = [\n            { name: 'num', type: this.binding.TF_ATTR_INT, value: num },\n            createTypeOpAttr('T', x.dtype),\n            { name: 'axis', type: this.binding.TF_ATTR_INT, value: axis }\n        ];\n        return this.executeMultipleOutputs('Unpack', opAttrs, [x], num);\n    };\n    NodeJSKernelBackend.prototype.batchMatMul = function (a, b, transposeA, transposeB) {\n        var opAttrs = [\n            createTypeOpAttr('T', a.dtype),\n            { name: 'adj_x', type: this.binding.TF_ATTR_BOOL, value: transposeA },\n            { name: 'adj_y', type: this.binding.TF_ATTR_BOOL, value: transposeB }\n        ];\n        return this.executeSingleOutput('BatchMatMul', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.applyActivation = function (input, activation, preluActivationWeights) {\n        var result = input;\n        if (activation != null) {\n            if (activation === 'linear') {\n                // No-op\n            }\n            else if (activation === 'relu') {\n                result = this.relu(result);\n            }\n            else if (activation === 'prelu') {\n                result = this.prelu(result, preluActivationWeights);\n            }\n            else if (activation === 'elu') {\n                result = this.elu(result);\n            }\n            else if (activation === 'relu6') {\n                result = this.relu6(result);\n            }\n            else {\n                throw new Error(\"Activation: \" + activation + \" has not been implemented for the Node.js backend\");\n            }\n        }\n        return result;\n    };\n    NodeJSKernelBackend.prototype.fusedConv2d = function (_a) {\n        var input = _a.input, filter = _a.filter, convInfo = _a.convInfo, bias = _a.bias, activation = _a.activation, preluActivationWeights = _a.preluActivationWeights;\n        var result = this.conv2d(input, filter, convInfo);\n        if (bias != null) {\n            result = this.add(result, bias);\n        }\n        result = this.applyActivation(result, activation, preluActivationWeights);\n        return result;\n    };\n    NodeJSKernelBackend.prototype.fusedBatchMatMul = function (_a) {\n        var a = _a.a, b = _a.b, transposeA = _a.transposeA, transposeB = _a.transposeB, bias = _a.bias, activation = _a.activation, preluActivationWeights = _a.preluActivationWeights;\n        // Core TensorFlow does not have a fused BatchMatMul op. Combine calls to\n        // achieve the same results:\n        var result = this.batchMatMul(a, b, transposeA, transposeB);\n        if (bias != null) {\n            result = this.add(result, bias);\n        }\n        result = this.applyActivation(result, activation, preluActivationWeights);\n        return result;\n    };\n    NodeJSKernelBackend.prototype.slice = function (x, begin, size) {\n        var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Index', 'int32')];\n        // Bind tensor values\n        var beginTensor = tfjs_core_1.tensor1d(begin, 'int32');\n        var sizeTensor = tfjs_core_1.tensor1d(size, 'int32');\n        return this.executeSingleOutput('Slice', opAttrs, [x, beginTensor, sizeTensor]);\n    };\n    NodeJSKernelBackend.prototype.reverse = function (a, axis) {\n        var opAttrs = [createTypeOpAttr('Tidx', 'int32'), createTypeOpAttr('T', a.dtype)];\n        var axisTensor = tfjs_core_1.tensor1d(axis, 'int32');\n        return this.executeSingleOutput('ReverseV2', opAttrs, [a, axisTensor]);\n    };\n    NodeJSKernelBackend.prototype.concat = function (tensors, axis) {\n        var opAttrs = [\n            { name: 'N', type: this.binding.TF_ATTR_INT, value: tensors.length }, {\n                name: 'Tidx',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_INT32\n            },\n            createTensorsTypeOpAttr('T', tensors)\n        ];\n        var inputs = Array.from(tensors);\n        inputs.push(tfjs_core_1.scalar(axis, 'int32'));\n        return this.executeSingleOutput('ConcatV2', opAttrs, inputs);\n    };\n    NodeJSKernelBackend.prototype.neg = function (a) {\n        return this.executeSingleInput('Neg', a);\n    };\n    NodeJSKernelBackend.prototype.diag = function (x) {\n        return this.executeSingleInput('Diag', x);\n    };\n    NodeJSKernelBackend.prototype.add = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Add', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.select = function (condition, a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Select', opAttrs, [condition, a, b]);\n    };\n    NodeJSKernelBackend.prototype.addN = function (tensors) {\n        var opAttrs = [\n            createTypeOpAttr('T', tensors[0].dtype),\n            { name: 'N', type: this.binding.TF_ATTR_INT, value: tensors.length }\n        ];\n        return this.executeSingleOutput('AddN', opAttrs, tensors);\n    };\n    NodeJSKernelBackend.prototype.subtract = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Sub', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.multiply = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Mul', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.realDivide = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('RealDiv', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.floorDiv = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('FloorDiv', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.divide = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Div', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.divNoNan = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('DivNoNan', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.unsortedSegmentSum = function (x, segmentIds, numSegments) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tindices', 'int32'),\n            createTypeOpAttr('Tnumsegments', 'int32')\n        ];\n        return this.executeSingleOutput('UnsortedSegmentSum', opAttrs, [x, segmentIds, tfjs_core_1.scalar(numSegments, 'int32')]);\n    };\n    NodeJSKernelBackend.prototype.sum = function (x, axes) {\n        var axisTensor = tfjs_core_1.tensor1d(axes, 'int32');\n        return this.executeSingleOutput('Sum', this.createReductionOpAttrs(x), [x, axisTensor]);\n    };\n    NodeJSKernelBackend.prototype.prod = function (x, axes) {\n        var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n        var opAttrs = [\n            { name: 'keep_dims', type: this.binding.TF_ATTR_BOOL, value: false },\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tidx', 'int32')\n        ];\n        return this.executeSingleOutput('Prod', opAttrs, [x, axesTensor]);\n    };\n    NodeJSKernelBackend.prototype.argMin = function (x, axis) {\n        var xInput = x.dtype === 'bool' ? x.toInt() : x;\n        var axisScalar = tfjs_core_1.scalar(axis, 'int32');\n        var opAttrs = [\n            createTypeOpAttr('T', xInput.dtype), createTypeOpAttr('Tidx', 'int32'),\n            createTypeOpAttr('output_type', 'int32')\n        ];\n        return this.executeSingleOutput('ArgMin', opAttrs, [xInput, axisScalar]);\n    };\n    NodeJSKernelBackend.prototype.argMax = function (x, axis) {\n        var xInput = x.dtype === 'bool' ? x.toInt() : x;\n        var axisScalar = tfjs_core_1.scalar(axis, 'int32');\n        var opAttrs = [\n            createTypeOpAttr('T', xInput.dtype), createTypeOpAttr('Tidx', 'int32'),\n            createTypeOpAttr('output_type', 'int32')\n        ];\n        return this.executeSingleOutput('ArgMax', opAttrs, [xInput, axisScalar]);\n    };\n    NodeJSKernelBackend.prototype.equal = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Equal', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.notEqual = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('NotEqual', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.less = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Less', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.lessEqual = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('LessEqual', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.greater = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Greater', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.greaterEqual = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('GreaterEqual', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.logicalNot = function (a) {\n        return this.executeSingleOutput('LogicalNot', [], [a]);\n    };\n    NodeJSKernelBackend.prototype.logicalAnd = function (a, b) {\n        return this.executeSingleOutput('LogicalAnd', [], [a, b]);\n    };\n    NodeJSKernelBackend.prototype.logicalOr = function (a, b) {\n        return this.executeSingleOutput('LogicalOr', [], [a, b]);\n    };\n    NodeJSKernelBackend.prototype.where = function (condition) {\n        return this.executeSingleOutput('Where', [], [condition]);\n    };\n    NodeJSKernelBackend.prototype.topKValues = function (x, k) {\n        throw new Error('Method not implemented.');\n    };\n    NodeJSKernelBackend.prototype.topKIndices = function (x, k) {\n        throw new Error('Method not implemented.');\n    };\n    NodeJSKernelBackend.prototype.topk = function (x, k, sorted) {\n        var kCount = util_1.isNullOrUndefined(k) ? 1 : k;\n        var isSorted = util_1.isNullOrUndefined(sorted) ? true : sorted;\n        var opAttrs = [\n            { name: 'sorted', type: this.binding.TF_ATTR_BOOL, value: isSorted },\n            createTypeOpAttr('T', x.dtype),\n        ];\n        var kTensor = tfjs_core_1.scalar(kCount, 'int32');\n        // 'TopKV2' has two-hard coded output attributes:\n        return this.executeMultipleOutputs('TopKV2', opAttrs, [x, kTensor], 2);\n    };\n    NodeJSKernelBackend.prototype.min = function (x, axes) {\n        var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n        return this.executeSingleOutput('Min', this.createReductionOpAttrs(x), [x, axesTensor]);\n    };\n    NodeJSKernelBackend.prototype.minimum = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Minimum', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.max = function (x, axes) {\n        var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n        return this.executeSingleOutput('Max', this.createReductionOpAttrs(x), [x, axesTensor]);\n    };\n    NodeJSKernelBackend.prototype.maximum = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype))];\n        return this.executeSingleOutput('Maximum', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.all = function (x, axes) {\n        var opAttrs = [\n            { name: 'keep_dims', type: this.binding.TF_ATTR_BOOL, value: false },\n            createTypeOpAttr('Tidx', 'int32')\n        ];\n        var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n        return this.executeSingleOutput('All', opAttrs, [x, axesTensor]);\n    };\n    NodeJSKernelBackend.prototype.any = function (x, axes) {\n        var opAttrs = [\n            { name: 'keep_dims', type: this.binding.TF_ATTR_BOOL, value: false },\n            createTypeOpAttr('Tidx', 'int32')\n        ];\n        var axesTensor = tfjs_core_1.tensor1d(axes, 'int32');\n        return this.executeSingleOutput('Any', opAttrs, [x, axesTensor]);\n    };\n    NodeJSKernelBackend.prototype.ceil = function (x) {\n        return this.executeSingleInput('Ceil', x);\n    };\n    NodeJSKernelBackend.prototype.floor = function (x) {\n        return this.executeSingleInput('Floor', x);\n    };\n    NodeJSKernelBackend.prototype.pow = function (a, b) {\n        var dtype = tfjs_core_1.backend_util.upcastType(a.dtype, b.dtype);\n        var opAttrs = [createTypeOpAttr('T', dtype)];\n        return this.executeSingleOutput('Pow', opAttrs, [a.cast(dtype), b.cast(dtype)]);\n    };\n    NodeJSKernelBackend.prototype.exp = function (x) {\n        var xTensor = x.dtype === 'int32' ? x.toFloat() : x;\n        return this.executeSingleInput('Exp', xTensor);\n    };\n    NodeJSKernelBackend.prototype.log = function (x) {\n        return this.executeSingleInput('Log', x);\n    };\n    NodeJSKernelBackend.prototype.log1p = function (x) {\n        return this.executeSingleInput('Log1p', x);\n    };\n    NodeJSKernelBackend.prototype.sqrt = function (x) {\n        return this.executeSingleInput('Sqrt', x);\n    };\n    NodeJSKernelBackend.prototype.square = function (x) {\n        return this.executeSingleInput('Square', x);\n    };\n    NodeJSKernelBackend.prototype.relu = function (x) {\n        return this.executeSingleInput('Relu', x);\n    };\n    NodeJSKernelBackend.prototype.relu6 = function (x) {\n        return this.executeSingleInput('Relu6', x);\n    };\n    NodeJSKernelBackend.prototype.prelu = function (x, a) {\n        var pos = this.relu(x);\n        var neg = a.mul(x.sub(this.abs(x))).mul(0.5);\n        return pos.add(neg);\n    };\n    NodeJSKernelBackend.prototype.elu = function (x) {\n        return this.executeSingleInput('Elu', x);\n    };\n    NodeJSKernelBackend.prototype.eluDer = function (dy, y) {\n        var opAttrs = [createTypeOpAttr('T', y.dtype)];\n        return this.executeSingleOutput('EluGrad', opAttrs, [dy, y]);\n    };\n    NodeJSKernelBackend.prototype.selu = function (x) {\n        return this.executeSingleInput('Selu', x);\n    };\n    NodeJSKernelBackend.prototype.int = function (x) {\n        throw new Error('Method not implemented.');\n    };\n    NodeJSKernelBackend.prototype.clip = function (x, min, max) {\n        var xMin = this.minimum(x, tfjs_core_1.scalar(max));\n        return this.maximum(xMin, tfjs_core_1.scalar(min));\n    };\n    NodeJSKernelBackend.prototype.abs = function (x) {\n        return this.executeSingleInput('Abs', x);\n    };\n    NodeJSKernelBackend.prototype.complexAbs = function (x) {\n        var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tout', 'float32')];\n        return this.executeSingleOutput('ComplexAbs', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.sigmoid = function (x) {\n        return this.executeSingleInput('Sigmoid', x);\n    };\n    NodeJSKernelBackend.prototype.sin = function (x) {\n        return this.executeSingleInput('Sin', x);\n    };\n    NodeJSKernelBackend.prototype.cos = function (x) {\n        return this.executeSingleInput('Cos', x);\n    };\n    NodeJSKernelBackend.prototype.tan = function (x) {\n        return this.executeSingleInput('Tan', x);\n    };\n    NodeJSKernelBackend.prototype.asin = function (x) {\n        return this.executeSingleInput('Asin', x);\n    };\n    NodeJSKernelBackend.prototype.acos = function (x) {\n        return this.executeSingleInput('Acos', x);\n    };\n    NodeJSKernelBackend.prototype.atan = function (x) {\n        return this.executeSingleInput('Atan', x);\n    };\n    NodeJSKernelBackend.prototype.sinh = function (x) {\n        return this.executeSingleInput('Sinh', x);\n    };\n    NodeJSKernelBackend.prototype.cosh = function (x) {\n        return this.executeSingleInput('Cosh', x);\n    };\n    NodeJSKernelBackend.prototype.tanh = function (x) {\n        return this.executeSingleInput('Tanh', x);\n    };\n    NodeJSKernelBackend.prototype.mod = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', a.dtype)];\n        return this.executeSingleOutput('FloorMod', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.round = function (x) {\n        return this.executeSingleInput('Round', x);\n    };\n    NodeJSKernelBackend.prototype.sign = function (x) {\n        return this.executeSingleInput('Sign', x);\n    };\n    NodeJSKernelBackend.prototype.isNaN = function (x) {\n        return this.executeSingleInput('IsNan', x);\n    };\n    NodeJSKernelBackend.prototype.isInf = function (x) {\n        return this.executeSingleInput('IsInf', x);\n    };\n    NodeJSKernelBackend.prototype.isFinite = function (x) {\n        return this.executeSingleInput('IsFinite', x);\n    };\n    NodeJSKernelBackend.prototype.rsqrt = function (x) {\n        return this.executeSingleInput('Rsqrt', x);\n    };\n    NodeJSKernelBackend.prototype.reciprocal = function (x) {\n        return this.executeSingleInput('Reciprocal', x);\n    };\n    NodeJSKernelBackend.prototype.asinh = function (x) {\n        return this.executeSingleInput('Asinh', x);\n    };\n    NodeJSKernelBackend.prototype.acosh = function (x) {\n        return this.executeSingleInput('Acosh', x);\n    };\n    NodeJSKernelBackend.prototype.atanh = function (x) {\n        return this.executeSingleInput('Atanh', x);\n    };\n    NodeJSKernelBackend.prototype.erf = function (x) {\n        return this.executeSingleInput('Erf', x);\n    };\n    NodeJSKernelBackend.prototype.squaredDifference = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', a.dtype)];\n        return this.executeSingleOutput('SquaredDifference', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.expm1 = function (x) {\n        return this.executeSingleInput('Expm1', x);\n    };\n    NodeJSKernelBackend.prototype.softplus = function (x) {\n        return this.executeSingleInput('Softplus', x);\n    };\n    NodeJSKernelBackend.prototype.atan2 = function (a, b) {\n        var opAttrs = [createTypeOpAttr('T', a.dtype)];\n        return this.executeSingleOutput('Atan2', opAttrs, [a, b]);\n    };\n    NodeJSKernelBackend.prototype.step = function (x, alpha) {\n        var dtype = x.dtype;\n        var nans = this.isNaN(x);\n        var stepNoNans = this.select(this.greater(x, tfjs_core_1.scalar(0, dtype)), tfjs_core_1.ones(x.shape), tfjs_core_1.fill(x.shape, alpha, dtype));\n        return this.select(nans, x, stepNoNans);\n    };\n    NodeJSKernelBackend.prototype.conv2d = function (x, filter, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'use_cudnn_on_gpu', type: this.binding.TF_ATTR_BOOL, value: true },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations },\n        ];\n        return this.executeSingleOutput('Conv2D', opAttrs, [x, filter]);\n    };\n    NodeJSKernelBackend.prototype.conv2dDerInput = function (dy, filter, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n        var opAttrs = [\n            createTypeOpAttr('T', 'float32'),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'use_cudnn_on_gpu', type: this.binding.TF_ATTR_BOOL, value: true },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        var inputSizes = tfjs_core_1.tensor1d(convInfo.inShape, 'int32');\n        return this.executeSingleOutput('Conv2DBackpropInput', opAttrs, [inputSizes, filter, dy]);\n    };\n    NodeJSKernelBackend.prototype.conv2dDerFilter = function (x, dy, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n        var opAttrs = [\n            createTypeOpAttr('T', 'float32'),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'use_cudnn_on_gpu', type: this.binding.TF_ATTR_BOOL, value: true },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        var filterSizes = tfjs_core_1.tensor1d(convInfo.filterShape, 'int32');\n        return this.executeSingleOutput('Conv2DBackpropFilter', opAttrs, [x, filterSizes, dy]);\n    };\n    NodeJSKernelBackend.prototype.depthwiseConv2DDerInput = function (dy, filter, convInfo) {\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n        var opAttrs = [\n            createTypeOpAttr('T', 'float32'),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        var inputSizes = tfjs_core_1.tensor1d(convInfo.inShape, 'int32');\n        return this.executeSingleOutput('DepthwiseConv2dNativeBackpropInput', opAttrs, [inputSizes, filter, dy]);\n    };\n    NodeJSKernelBackend.prototype.depthwiseConv2DDerFilter = function (x, dY, convInfo) {\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n        var opAttrs = [\n            createTypeOpAttr('T', 'float32'),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        var filterSizes = tfjs_core_1.tensor1d(convInfo.filterShape, 'int32');\n        return this.executeSingleOutput('DepthwiseConv2dNativeBackpropFilter', opAttrs, [x, filterSizes, dY]);\n    };\n    NodeJSKernelBackend.prototype.fusedDepthwiseConv2D = function (_a) {\n        var input = _a.input, filter = _a.filter, convInfo = _a.convInfo, bias = _a.bias, activation = _a.activation, preluActivationWeights = _a.preluActivationWeights;\n        var result = this.depthwiseConv2D(input, filter, convInfo);\n        if (bias != null) {\n            result = this.add(result, bias);\n        }\n        result = this.applyActivation(result, activation, preluActivationWeights);\n        return result;\n    };\n    NodeJSKernelBackend.prototype.depthwiseConv2D = function (input, filter, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var dilations = [1, convInfo.dilationHeight, convInfo.dilationWidth, 1];\n        var opAttrs = [\n            createTypeOpAttr('T', input.dtype),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        return this.executeSingleOutput('DepthwiseConv2dNative', opAttrs, [input, filter]);\n    };\n    NodeJSKernelBackend.prototype.conv3d = function (x, filter, convInfo) {\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        if (!this.isGPUPackage && convInfo.dilationDepth > 1) {\n            throw new Error('CPU Dilation depth must be 1');\n        }\n        var dilations = [\n            1, convInfo.dilationDepth, convInfo.dilationHeight,\n            convInfo.dilationWidth, 1\n        ];\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        return this.executeSingleOutput('Conv3D', opAttrs, [x, filter]);\n    };\n    NodeJSKernelBackend.prototype.conv3dDerInput = function (dy, filter, convInfo) {\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        if (!this.isGPUPackage && convInfo.dilationDepth > 1) {\n            throw new Error('CPU Dilation depth must be 1');\n        }\n        var dilations = [\n            1, convInfo.dilationDepth, convInfo.dilationHeight,\n            convInfo.dilationWidth, 1\n        ];\n        var opAttrs = [\n            createTypeOpAttr('T', dy.dtype),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations },\n            createTypeOpAttr('Tshape', 'int32')\n        ];\n        var inputSizes = tfjs_core_1.tensor1d(convInfo.inShape, 'int32');\n        return this.executeSingleOutput('Conv3DBackpropInputV2', opAttrs, [inputSizes, filter, dy]);\n    };\n    NodeJSKernelBackend.prototype.conv3dDerFilter = function (x, dY, convInfo) {\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        if (!this.isGPUPackage && convInfo.dilationDepth > 1) {\n            throw new Error('CPU Dilation depth must be 1');\n        }\n        var dilations = [\n            1, convInfo.dilationDepth, convInfo.dilationHeight,\n            convInfo.dilationWidth, 1\n        ];\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'dilations', type: this.binding.TF_ATTR_INT, value: dilations }\n        ];\n        var filterSizes = tfjs_core_1.tensor1d(convInfo.filterShape, 'int32');\n        return this.executeSingleOutput('Conv3DBackpropFilterV2', opAttrs, [x, filterSizes, dY]);\n    };\n    NodeJSKernelBackend.prototype.maxPool = function (x, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            }\n        ];\n        return this.executeSingleOutput('MaxPool', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.maxPoolBackprop = function (dy, x, y, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding type was \" + convInfo.padInfo.type));\n        }\n        var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n        ];\n        return this.executeSingleOutput('MaxPoolGrad', opAttrs, [x, y, dy]);\n    };\n    NodeJSKernelBackend.prototype.avgPool = function (x, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n        ];\n        return this.executeSingleOutput('AvgPool', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.avgPoolBackprop = function (dy, x, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding type was \" + convInfo.padInfo.type));\n        }\n        var ksize = [1, convInfo.filterHeight, convInfo.filterWidth, 1];\n        var strides = [1, convInfo.strideHeight, convInfo.strideWidth, 1];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NHWC' : 'NCHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n        ];\n        var origInputShape = tfjs_core_1.tensor1d(x.shape, 'int32');\n        return this.executeSingleOutput('AvgPoolGrad', opAttrs, [origInputShape, dy]);\n    };\n    NodeJSKernelBackend.prototype.avgPool3d = function (x, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var ksize = [\n            1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1\n        ];\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n        ];\n        return this.executeSingleOutput('AvgPool3D', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.avgPool3dBackprop = function (dy, x, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding type was \" + convInfo.padInfo.type));\n        }\n        var ksize = [\n            1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1\n        ];\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n        ];\n        var origInputShape = tfjs_core_1.tensor1d(x.shape, 'int32');\n        return this.executeSingleOutput('AvgPool3DGrad', opAttrs, [origInputShape, dy]);\n    };\n    NodeJSKernelBackend.prototype.maxPool3d = function (x, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding was \" + convInfo.padInfo.type));\n        }\n        var ksize = [\n            1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1\n        ];\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding }, {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            }\n        ];\n        return this.executeSingleOutput('MaxPool3D', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.maxPool3dBackprop = function (dy, x, y, convInfo) {\n        if (convInfo.padInfo.type !== 'VALID' && convInfo.padInfo.type !== 'SAME') {\n            throw new Error(\"TF Backend supports only 'valid' and 'same' padding \" +\n                (\"while padding type was \" + convInfo.padInfo.type));\n        }\n        var ksize = [\n            1, convInfo.filterDepth, convInfo.filterHeight, convInfo.filterWidth, 1\n        ];\n        var strides = [\n            1, convInfo.strideDepth, convInfo.strideHeight, convInfo.strideWidth, 1\n        ];\n        var padding = convInfo.padInfo.type;\n        var dataFormat = convInfo.dataFormat === 'channelsLast' ? 'NDHWC' : 'NCDHW';\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'ksize', type: this.binding.TF_ATTR_INT, value: ksize },\n            { name: 'strides', type: this.binding.TF_ATTR_INT, value: strides },\n            { name: 'padding', type: this.binding.TF_ATTR_STRING, value: padding },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n        ];\n        return this.executeSingleOutput('MaxPool3DGrad', opAttrs, [x, y, dy]);\n    };\n    NodeJSKernelBackend.prototype.reshape = function (x, shape) {\n        var shapeTensor = tfjs_core_1.tensor1d(shape, 'int32');\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            createTypeOpAttr('Tshape', shapeTensor.dtype)\n        ];\n        return this.executeSingleOutput('Reshape', opAttrs, [x, shapeTensor]);\n    };\n    NodeJSKernelBackend.prototype.cast = function (x, dtype) {\n        var opAttrs = [\n            createTypeOpAttr('SrcT', x.dtype), createTypeOpAttr('DstT', dtype),\n            { name: 'Truncate', type: this.binding.TF_ATTR_BOOL, value: false }\n        ];\n        return this.executeSingleOutput('Cast', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.tile = function (x, reps) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tmultiples', 'int32')\n        ];\n        var multiples = tfjs_core_1.tensor1d(reps, 'int32');\n        return this.executeSingleOutput('Tile', opAttrs, [x, multiples]);\n    };\n    NodeJSKernelBackend.prototype.pad = function (x, paddings, constantValue) {\n        // Bind tensor values\n        var paddingsTensor = tfjs_core_1.tensor2d(paddings, [paddings.length, 2], 'int32');\n        var constantTensor = tfjs_core_1.scalar(constantValue, x.dtype);\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            createTypeOpAttr('Tpaddings', paddingsTensor.dtype)\n        ];\n        return this.executeSingleOutput('PadV2', opAttrs, [x, paddingsTensor, constantTensor]);\n    };\n    NodeJSKernelBackend.prototype.transpose = function (x, perm) {\n        var permTensor = tfjs_core_1.tensor1d(perm, 'int32');\n        var opAttrs = [createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tperm', 'int32')];\n        return this.executeSingleOutput('Transpose', opAttrs, [x, permTensor]);\n    };\n    NodeJSKernelBackend.prototype.gather = function (x, indices, axis) {\n        var axisTensor = tfjs_core_1.scalar(axis, 'int32');\n        var opAttrs = [\n            createTypeOpAttr('Tparams', x.dtype),\n            createTypeOpAttr('Tindices', indices.dtype),\n            createTypeOpAttr('Taxis', 'int32')\n        ];\n        return this.executeSingleOutput('GatherV2', opAttrs, [x, indices, axisTensor]);\n    };\n    NodeJSKernelBackend.prototype.gatherND = function (x, indices) {\n        var opAttrs = [\n            createTypeOpAttr('Tparams', x.dtype),\n            createTypeOpAttr('Tindices', 'int32')\n        ];\n        return this.executeSingleOutput('GatherNd', opAttrs, [x, indices]);\n    };\n    NodeJSKernelBackend.prototype.scatterND = function (indices, updates, shape) {\n        var opAttrs = [\n            createTypeOpAttr('T', updates.dtype),\n            createTypeOpAttr('Tindices', 'int32')\n        ];\n        var shapeTensor = tfjs_core_1.tensor1d(shape, 'int32');\n        return this.executeSingleOutput('ScatterNd', opAttrs, [indices, updates, shapeTensor]);\n    };\n    NodeJSKernelBackend.prototype.batchToSpaceND = function (x, blockShape, crops) {\n        var blockShapeTensor = tfjs_core_1.tensor1d(blockShape, 'int32');\n        var cropsTensor = tfjs_core_1.tensor2d(crops, [crops.length, crops[0].length], 'int32');\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tblock_shape', 'int32'),\n            createTypeOpAttr('Tcrops', cropsTensor.dtype)\n        ];\n        return this.executeSingleOutput('BatchToSpaceND', opAttrs, [x, blockShapeTensor, cropsTensor]);\n    };\n    NodeJSKernelBackend.prototype.spaceToBatchND = function (x, blockShape, paddings) {\n        var blockShapeTensor = tfjs_core_1.tensor1d(blockShape, 'int32');\n        var paddingsTensor = tfjs_core_1.tensor2d(paddings, [paddings.length, paddings[0].length], 'int32');\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tblock_shape', 'int32'),\n            createTypeOpAttr('Tpaddings', paddingsTensor.dtype)\n        ];\n        return this.executeSingleOutput('SpaceToBatchND', opAttrs, [x, blockShapeTensor, paddingsTensor]);\n    };\n    NodeJSKernelBackend.prototype.resizeBilinear = function (x, newHeight, newWidth, alignCorners) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            {\n                name: 'align_corners',\n                type: this.binding.TF_ATTR_BOOL,\n                value: alignCorners\n            },\n        ];\n        var size = tfjs_core_1.tensor1d([newHeight, newWidth], 'int32');\n        return this.executeSingleOutput('ResizeBilinear', opAttrs, [x, size]);\n    };\n    NodeJSKernelBackend.prototype.resizeBilinearBackprop = function (dy, x, alignCorners) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), {\n                name: 'align_corners',\n                type: this.binding.TF_ATTR_BOOL,\n                value: alignCorners\n            }\n        ];\n        return this.executeSingleOutput('ResizeBilinearGrad', opAttrs, [dy, x]);\n    };\n    NodeJSKernelBackend.prototype.resizeNearestNeighbor = function (x, newHeight, newWidth, alignCorners) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            {\n                name: 'align_corners',\n                type: this.binding.TF_ATTR_BOOL,\n                value: alignCorners\n            },\n        ];\n        var size = tfjs_core_1.tensor1d([newHeight, newWidth], 'int32');\n        return this.executeSingleOutput('ResizeNearestNeighbor', opAttrs, [x, size]);\n    };\n    NodeJSKernelBackend.prototype.resizeNearestNeighborBackprop = function (dy, x, alignCorners) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype), {\n                name: 'align_corners',\n                type: this.binding.TF_ATTR_BOOL,\n                value: alignCorners\n            }\n        ];\n        var _a = x.shape, origHeight = _a[1], origWidth = _a[2];\n        var size = tfjs_core_1.tensor1d([origHeight, origWidth], 'int32');\n        return this.executeSingleOutput('ResizeNearestNeighborGrad', opAttrs, [dy, size]);\n    };\n    NodeJSKernelBackend.prototype.batchNormalization = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        if (mean.rank > 1) {\n            // Fused batch norm doesn't work with high-dim mean/var/scale/offset.\n            var inv = tfjs_core_1.rsqrt(variance.add(tfjs_core_1.scalar(varianceEpsilon)));\n            if (scale != null) {\n                inv = inv.mul(scale);\n            }\n            var xNorm = x.sub(mean).mul(inv);\n            return offset != null ? xNorm.add(offset) : xNorm;\n        }\n        var dataFormat = 'NHWC';\n        var depth = x.shape[3];\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            {\n                name: 'epsilon',\n                type: this.binding.TF_ATTR_FLOAT,\n                value: varianceEpsilon\n            },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            },\n            { name: 'is_training', type: this.binding.TF_ATTR_BOOL, value: false },\n        ];\n        var numOutputs = 5;\n        if (scale == null) {\n            scale = tfjs_core_1.fill([depth], 1);\n        }\n        if (offset == null) {\n            offset = tfjs_core_1.fill([depth], 0);\n        }\n        return this.executeMultipleOutputs('FusedBatchNorm', opAttrs, [x, scale, offset, mean, variance], numOutputs)[0];\n    };\n    NodeJSKernelBackend.prototype.localResponseNormalization4D = function (x, radius, bias, alpha, beta) {\n        var opAttrs = [\n            createTypeOpAttr('T', x.dtype),\n            { name: 'depth_radius', type: this.binding.TF_ATTR_INT, value: radius },\n            { name: 'bias', type: this.binding.TF_ATTR_FLOAT, value: bias },\n            { name: 'alpha', type: this.binding.TF_ATTR_FLOAT, value: alpha },\n            { name: 'beta', type: this.binding.TF_ATTR_FLOAT, value: beta },\n        ];\n        return this.executeSingleOutput('LRN', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.LRNGrad = function (dy, inputImage, outputImage, radius, bias, alpha, beta) {\n        var opAttrs = [\n            createTypeOpAttr('T', dy.dtype),\n            { name: 'depth_radius', type: this.binding.TF_ATTR_INT, value: radius },\n            { name: 'bias', type: this.binding.TF_ATTR_FLOAT, value: bias },\n            { name: 'alpha', type: this.binding.TF_ATTR_FLOAT, value: alpha },\n            { name: 'beta', type: this.binding.TF_ATTR_FLOAT, value: beta },\n        ];\n        return this.executeSingleOutput('LRNGrad', opAttrs, [dy, inputImage, outputImage]);\n    };\n    NodeJSKernelBackend.prototype.multinomial = function (logits, normalized, numSamples, seed) {\n        if (normalized) {\n            throw new Error('TF Node backend does not support normalized logits ' +\n                'passed to multinomial');\n        }\n        var opAttrs = [\n            createTypeOpAttr('T', logits.dtype),\n            createTypeOpAttr('output_dtype', 'int32'),\n            { name: 'seed', type: this.binding.TF_ATTR_INT, value: seed },\n            { name: 'seed2', type: this.binding.TF_ATTR_INT, value: seed * seed },\n        ];\n        return this.executeSingleOutput('Multinomial', opAttrs, [logits, tfjs_core_1.scalar(numSamples, 'int32')]);\n    };\n    NodeJSKernelBackend.prototype.oneHot = function (indices, depth, onValue, offValue) {\n        var depthTensor = tfjs_core_1.scalar(depth, 'int32');\n        var onValueTensor = tfjs_core_1.scalar(onValue, 'int32');\n        var offValueTensor = tfjs_core_1.scalar(offValue, 'int32');\n        var opAttrs = [\n            { name: 'axis', type: this.binding.TF_ATTR_INT, value: -1 },\n            createTypeOpAttr('T', indices.dtype),\n            createTypeOpAttr('TI', indices.dtype)\n        ];\n        return this.executeSingleOutput('OneHot', opAttrs, [\n            indices, depthTensor, onValueTensor, offValueTensor\n        ]);\n    };\n    NodeJSKernelBackend.prototype.cumsum = function (x, axis, exclusive, reverse) {\n        var axisTensor = tfjs_core_1.scalar(axis, 'int32');\n        var opAttrs = [\n            { name: 'exclusive', type: this.binding.TF_ATTR_BOOL, value: exclusive },\n            { name: 'reverse', type: this.binding.TF_ATTR_BOOL, value: reverse },\n            createTypeOpAttr('T', x.dtype), createTypeOpAttr('Tidx', 'int32')\n        ];\n        return this.executeSingleOutput('Cumsum', opAttrs, [x, axisTensor]);\n    };\n    NodeJSKernelBackend.prototype.nonMaxSuppression = function (boxes, scores, maxOutputSize, iouThreshold, scoreThreshold) {\n        var opAttrs = [createTypeOpAttr('T', boxes.dtype)];\n        var maxOutputSizeTensor = tfjs_core_1.scalar(maxOutputSize, 'int32');\n        var iouThresholdTensor = tfjs_core_1.scalar(iouThreshold);\n        var scoreThresholdTensor = tfjs_core_1.scalar(scoreThreshold);\n        return this.executeSingleOutput('NonMaxSuppressionV3', opAttrs, [\n            boxes, scores, maxOutputSizeTensor, iouThresholdTensor,\n            scoreThresholdTensor\n        ]);\n    };\n    NodeJSKernelBackend.prototype.fft = function (x) {\n        var opAttrs = [createTypeOpAttr('Tcomplex', x.dtype)];\n        return this.executeSingleOutput('FFT', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.ifft = function (x) {\n        var opAttrs = [createTypeOpAttr('Tcomplex', x.dtype)];\n        return this.executeSingleOutput('IFFT', opAttrs, [x]);\n    };\n    NodeJSKernelBackend.prototype.complex = function (real, imag) {\n        var opAttrs = [\n            createTensorsTypeOpAttr('T', real),\n            {\n                name: 'Tout',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_COMPLEX64\n            },\n        ];\n        var inputs = [real, imag];\n        return this.executeSingleOutput('Complex', opAttrs, inputs);\n    };\n    NodeJSKernelBackend.prototype.real = function (input) {\n        var opAttrs = [\n            createTensorsTypeOpAttr('T', input), {\n                name: 'Tout',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_FLOAT\n            }\n        ];\n        var inputs = [input];\n        return this.executeSingleOutput('Real', opAttrs, inputs);\n    };\n    NodeJSKernelBackend.prototype.imag = function (input) {\n        var opAttrs = [\n            {\n                name: 'T',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_COMPLEX64\n            },\n            {\n                name: 'Tout',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_FLOAT\n            }\n        ];\n        var inputs = [input];\n        return this.executeSingleOutput('Imag', opAttrs, inputs);\n    };\n    NodeJSKernelBackend.prototype.cropAndResize = function (image, boxes, boxIndex, cropSize, method, extrapolationValue) {\n        var opAttrs = [\n            createTypeOpAttr('T', image.dtype),\n            { name: 'method', type: this.binding.TF_ATTR_STRING, value: method }, {\n                name: 'extrapolation_value',\n                type: this.binding.TF_ATTR_FLOAT,\n                value: extrapolationValue\n            }\n        ];\n        var cropSizeTensor = tfjs_core_1.tensor1d(cropSize, 'int32');\n        return this.executeSingleOutput('CropAndResize', opAttrs, [image, boxes, boxIndex, cropSizeTensor]);\n    };\n    NodeJSKernelBackend.prototype.depthToSpace = function (x, blockSize, dataFormat) {\n        var opAttrs = [\n            createTensorsTypeOpAttr('T', x), {\n                name: 'block_size',\n                type: this.binding.TF_ATTR_INT,\n                value: blockSize < 2 ? 2 : blockSize\n            },\n            {\n                name: 'data_format',\n                type: this.binding.TF_ATTR_STRING,\n                value: dataFormat\n            }\n        ];\n        var inputs = [x];\n        return this.executeSingleOutput('DepthToSpace', opAttrs, inputs);\n    };\n    NodeJSKernelBackend.prototype.split = function (value, sizeSplits, axis) {\n        var opAttrs = [\n            {\n                name: 'num_split',\n                type: this.binding.TF_ATTR_INT,\n                value: sizeSplits.length\n            },\n            createTensorsTypeOpAttr('T', value), {\n                name: 'Tlen',\n                type: this.binding.TF_ATTR_TYPE,\n                value: this.binding.TF_INT32\n            }\n        ];\n        var inputs = [value];\n        inputs.push(tfjs_core_1.tensor1d(sizeSplits, 'int32'));\n        inputs.push(tfjs_core_1.scalar(axis, 'int32'));\n        return this.executeMultipleOutputs('SplitV', opAttrs, inputs, sizeSplits.length);\n    };\n    NodeJSKernelBackend.prototype.sparseToDense = function (sparseIndices, sparseValues, outputShape, defaultValue) {\n        var opAttrs = [\n            { name: 'validate_indices', type: this.binding.TF_ATTR_BOOL, value: true },\n            createTypeOpAttr('T', sparseValues.dtype),\n            createTypeOpAttr('Tindices', sparseIndices.dtype)\n        ];\n        var outputShapeTensor = tfjs_core_1.tensor1d(outputShape, 'int32');\n        return this.executeSingleOutput('SparseToDense', opAttrs, [\n            sparseIndices, outputShapeTensor, sparseValues, defaultValue\n        ]);\n    };\n    NodeJSKernelBackend.prototype.linspace = function (start, stop, num) {\n        var opAttrs = [createTypeOpAttr('T', 'float32'), createTypeOpAttr('Tidx', 'int32')];\n        var inputs = [\n            tfjs_core_1.scalar(start, 'float32'), tfjs_core_1.scalar(stop, 'float32'), tfjs_core_1.scalar(num, 'int32')\n        ];\n        return this.executeSingleOutput('LinSpace', opAttrs, inputs);\n    };\n    NodeJSKernelBackend.prototype.decodeJpeg = function (contents, channels, ratio, fancyUpscaling, tryRecoverTruncated, acceptableFraction, dctMethod) {\n        var opAttrs = [\n            { name: 'channels', type: this.binding.TF_ATTR_INT, value: channels },\n            { name: 'ratio', type: this.binding.TF_ATTR_INT, value: ratio }, {\n                name: 'fancy_upscaling',\n                type: this.binding.TF_ATTR_BOOL,\n                value: fancyUpscaling\n            },\n            {\n                name: 'try_recover_truncated',\n                type: this.binding.TF_ATTR_BOOL,\n                value: tryRecoverTruncated\n            },\n            {\n                name: 'acceptable_fraction',\n                type: this.binding.TF_ATTR_FLOAT,\n                value: acceptableFraction\n            },\n            { name: 'dct_method', type: this.binding.TF_ATTR_STRING, value: dctMethod }\n        ];\n        var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n        return this.executeSingleOutput('DecodeJpeg', opAttrs, inputArgs);\n    };\n    NodeJSKernelBackend.prototype.decodePng = function (contents, channels) {\n        var opAttrs = [{ name: 'channels', type: this.binding.TF_ATTR_INT, value: channels }];\n        var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n        return this.executeSingleOutput('DecodePng', opAttrs, inputArgs);\n    };\n    NodeJSKernelBackend.prototype.decodeBmp = function (contents, channels) {\n        var opAttrs = [{ name: 'channels', type: this.binding.TF_ATTR_INT, value: channels }];\n        var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n        return this.executeSingleOutput('DecodeBmp', opAttrs, inputArgs);\n    };\n    NodeJSKernelBackend.prototype.decodeGif = function (contents) {\n        var inputArgs = [tfjs_core_1.scalar(contents, 'string')];\n        return this.executeSingleOutput('DecodeGif', [], inputArgs);\n    };\n    NodeJSKernelBackend.prototype.executeEncodeImageOp = function (name, opAttrs, imageData, imageShape) {\n        var inputTensorId = this.binding.createTensor(imageShape, this.binding.TF_UINT8, imageData);\n        var outputMetadata = this.binding.executeOp(name, opAttrs, [inputTensorId], 1);\n        var outputTensorInfo = outputMetadata[0];\n        // prevent the tensor data from being converted to a UTF8 string, since\n        // the encoded data is not valid UTF8\n        outputTensorInfo.dtype = this.binding.TF_UINT8;\n        return this.createOutputTensor(outputTensorInfo);\n    };\n    NodeJSKernelBackend.prototype.encodeJpeg = function (imageData, imageShape, format, quality, progressive, optimizeSize, chromaDownsampling, densityUnit, xDensity, yDensity, xmpMetadata) {\n        var opAttrs = [\n            { name: 'format', type: this.binding.TF_ATTR_STRING, value: format },\n            { name: 'quality', type: this.binding.TF_ATTR_INT, value: quality }, {\n                name: 'progressive',\n                type: this.binding.TF_ATTR_BOOL,\n                value: progressive\n            },\n            {\n                name: 'optimize_size',\n                type: this.binding.TF_ATTR_BOOL,\n                value: optimizeSize\n            },\n            {\n                name: 'chroma_downsampling',\n                type: this.binding.TF_ATTR_BOOL,\n                value: chromaDownsampling\n            },\n            {\n                name: 'density_unit',\n                type: this.binding.TF_ATTR_STRING,\n                value: densityUnit\n            },\n            { name: 'x_density', type: this.binding.TF_ATTR_INT, value: xDensity },\n            { name: 'y_density', type: this.binding.TF_ATTR_INT, value: yDensity }, {\n                name: 'xmp_metadata',\n                type: this.binding.TF_ATTR_STRING,\n                value: xmpMetadata\n            }\n        ];\n        return this.executeEncodeImageOp('EncodeJpeg', opAttrs, imageData, imageShape);\n    };\n    NodeJSKernelBackend.prototype.encodePng = function (imageData, imageShape, compression) {\n        var opAttrs = [\n            { name: 'compression', type: this.binding.TF_ATTR_INT, value: compression }\n        ];\n        return this.executeEncodeImageOp('EncodePng', opAttrs, imageData, imageShape);\n    };\n    NodeJSKernelBackend.prototype.deleteSavedModel = function (id) {\n        this.binding.deleteSavedModel(id);\n    };\n    NodeJSKernelBackend.prototype.loadSavedModelMetaGraph = function (path, tags) {\n        return this.binding.loadSavedModel(path, tags);\n    };\n    NodeJSKernelBackend.prototype.runSavedModel = function (id, inputs, inputOpNames, outputOpNames) {\n        var _this = this;\n        var outputMetadata = this.binding.runSavedModel(id, this.getInputTensorIds(inputs), inputOpNames.join(','), outputOpNames.join(','));\n        return outputMetadata.map(function (m) { return _this.createOutputTensor(m); });\n    };\n    // ------------------------------------------------------------\n    // TensorBoard-related (tfjs-node-specific) backend kernels.\n    NodeJSKernelBackend.prototype.summaryWriter = function (logdir) {\n        var opAttrs = [\n            {\n                name: 'shared_name',\n                type: this.binding.TF_ATTR_STRING,\n                value: \"logdir:\" + logdir\n            },\n            { name: 'container', type: this.binding.TF_ATTR_STRING, value: '' }\n        ];\n        var writerResource = this.executeSingleOutput('SummaryWriter', opAttrs, []);\n        return writerResource;\n    };\n    NodeJSKernelBackend.prototype.createSummaryFileWriter = function (resourceHandle, logdir, maxQueue, flushMillis, filenameSuffix) {\n        var inputArgs = [\n            resourceHandle, tfjs_core_1.scalar(logdir),\n            tfjs_core_1.scalar(maxQueue == null ? 10 : maxQueue, 'int32'),\n            tfjs_core_1.scalar(flushMillis == null ? 2 * 60 * 1000 : flushMillis, 'int32'),\n            tfjs_core_1.scalar(filenameSuffix == null ? '.v2' : filenameSuffix)\n        ];\n        this.executeMultipleOutputs('CreateSummaryFileWriter', [], inputArgs, 0);\n    };\n    NodeJSKernelBackend.prototype.writeScalarSummary = function (resourceHandle, step, name, value) {\n        var _this = this;\n        tfjs_core_1.tidy(function () {\n            tfjs_core_1.util.assert(Number.isInteger(step), function () { return \"step is expected to be an integer, but is instead \" + step; });\n            var inputArgs = [resourceHandle, new int64_tensors_1.Int64Scalar(step), tfjs_core_1.scalar(name, 'string')];\n            var typeAttr;\n            if (typeof value === 'number') {\n                inputArgs.push(tfjs_core_1.scalar(value));\n                typeAttr = _this.binding.TF_FLOAT;\n            }\n            else {\n                // `value` is a Scalar.\n                tfjs_core_1.util.assert(value.rank === 0, function () { return \"A non-scalar tensor (rank \" + value.rank + \") is passed to \" +\n                    \"writeScalarSummary()\"; });\n                inputArgs.push(value);\n                typeAttr = _this.typeAttributeFromTensor(value);\n            }\n            var opAttrs = [{ name: 'T', type: _this.binding.TF_ATTR_TYPE, value: typeAttr }];\n            _this.binding.executeOp('WriteScalarSummary', opAttrs, _this.getInputTensorIds(inputArgs), 0);\n        });\n    };\n    NodeJSKernelBackend.prototype.flushSummaryWriter = function (resourceHandle) {\n        var inputArgs = [resourceHandle];\n        this.executeMultipleOutputs('FlushSummaryWriter', [], inputArgs, 0);\n    };\n    // ~ TensorBoard-related (tfjs-node-specific) backend kernels.\n    // ------------------------------------------------------------\n    NodeJSKernelBackend.prototype.memory = function () {\n        // Due to automatic garbage collection, the numbers are unreliable.\n        // TODO(kreeger): Since there is finalization in C, count the true\n        // number of undisposed tensors.\n        return { unreliable: true };\n    };\n    NodeJSKernelBackend.prototype.time = function (f) {\n        return __awaiter(this, void 0, void 0, function () {\n            var start, elapsed;\n            return __generator(this, function (_a) {\n                start = process.hrtime();\n                f();\n                elapsed = process.hrtime(start);\n                return [2 /*return*/, { kernelMs: elapsed[0] * 1000 + elapsed[1] / 1000000 }];\n            });\n        });\n    };\n    NodeJSKernelBackend.prototype.getNumOfSavedModels = function () {\n        return this.binding.getNumOfSavedModels();\n    };\n    return NodeJSKernelBackend;\n}(tfjs_core_1.KernelBackend));\nexports.NodeJSKernelBackend = NodeJSKernelBackend;\n/** Returns an instance of the Node.js backend. */\nfunction nodeBackend() {\n    return tfc.findBackend('tensorflow');\n}\nexports.nodeBackend = nodeBackend;\n/** Returns the TF dtype for a given DataType. */\nfunction getTFDType(dataType) {\n    var binding = nodeBackend().binding;\n    switch (dataType) {\n        case 'float32':\n            return binding.TF_FLOAT;\n        case 'int32':\n            return binding.TF_INT32;\n        case 'bool':\n            return binding.TF_BOOL;\n        case 'complex64':\n            return binding.TF_COMPLEX64;\n        case 'string':\n            return binding.TF_STRING;\n        // tslint:disable-next-line:no-any\n        case 'int64':\n            // int64 is not a generally supported dtype in TensorFlow.js\n            // (tfjs-core). However, it needs to be included here for the purpose of\n            // writing the `step` value to TensorBoard via WriteScalarSummary and\n            // other op kernels.\n            return binding.TF_INT64;\n        default:\n            var errorMessage = \"Unknown dtype: \" + dataType;\n            throw new Error(errorMessage);\n    }\n}\nexports.getTFDType = getTFDType;\n/**\n * Creates a TFEOpAttr for a 'type' OpDef attribute.\n * @deprecated Please use createTensorsTypeOpAttr() going forward.\n */\nfunction createTypeOpAttr(attrName, dtype) {\n    return {\n        name: attrName,\n        type: nodeBackend().binding.TF_ATTR_TYPE,\n        value: getTFDType(dtype)\n    };\n}\nexports.createTypeOpAttr = createTypeOpAttr;\n/**\n * Creates a TFEOpAttr for a 'type' OpDef attribute from a Tensor or list of\n * Tensors.\n */\nfunction createTensorsTypeOpAttr(attrName, tensors) {\n    if (util_1.isNullOrUndefined(tensors)) {\n        throw new Error('Invalid input tensors value.');\n    }\n    return {\n        name: attrName,\n        type: nodeBackend().binding.TF_ATTR_TYPE,\n        value: getTFDTypeForInputs(tensors)\n    };\n}\nexports.createTensorsTypeOpAttr = createTensorsTypeOpAttr;\n/** Returns the dtype number for a single or list of input Tensors. */\nfunction getTFDTypeForInputs(tensors) {\n    if (util_1.isNullOrUndefined(tensors)) {\n        throw new Error('Invalid input tensors value.');\n    }\n    if (util_1.isArray(tensors)) {\n        for (var i = 0; i < tensors.length; i++) {\n            return getTFDType(tensors[i].dtype);\n        }\n        return -1;\n    }\n    else {\n        return getTFDType(tensors.dtype);\n    }\n}\nfunction ensureTensorflowBackend() {\n    tfc.util.assert(tfc.getBackend() === 'tensorflow', function () { return \"Expect the current backend to be \\\"tensorflow\\\", but got \\\"\" + tfc.getBackend() + \"\\\"\"; });\n}\nexports.ensureTensorflowBackend = ensureTensorflowBackend;\n"]},"metadata":{},"sourceType":"script"}