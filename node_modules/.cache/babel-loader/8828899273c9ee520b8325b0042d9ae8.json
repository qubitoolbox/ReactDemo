{"ast":null,"code":"export function points(data, x, y, sort) {\n  data = data.filter(d => {\n    let u = x(d),\n        v = y(d);\n    return u != null && (u = +u) >= u && v != null && (v = +v) >= v;\n  });\n\n  if (sort) {\n    data.sort((a, b) => x(a) - x(b));\n  }\n\n  const n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n  let i = 0,\n      ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (d of data) {\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (i = 0; i < n; ++i) {\n    X[i] -= ux;\n    Y[i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nexport function visitPoints(data, x, y, callback) {\n  let i = -1,\n      u,\n      v;\n\n  for (let d of data) {\n    u = x(d);\n    v = y(d);\n\n    if (u != null && (u = +u) >= u && v != null && (v = +v) >= v) {\n      callback(u, v, ++i);\n    }\n  }\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-statistics/src/regression/points.js"],"names":["points","data","x","y","sort","filter","d","u","v","a","b","n","length","X","Float64Array","Y","i","ux","uy","xv","yv","visitPoints","callback"],"mappings":"AAAA,OAAO,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4BC,IAA5B,EAAkC;AACvCH,EAAAA,IAAI,GAAGA,IAAI,CAACI,MAAL,CAAYC,CAAC,IAAI;AACtB,QAAIC,CAAC,GAAGL,CAAC,CAACI,CAAD,CAAT;AAAA,QAAcE,CAAC,GAAGL,CAAC,CAACG,CAAD,CAAnB;AACA,WAAOC,CAAC,IAAI,IAAL,IAAa,CAACA,CAAC,GAAG,CAACA,CAAN,KAAYA,CAAzB,IAA8BC,CAAC,IAAI,IAAnC,IAA2C,CAACA,CAAC,GAAG,CAACA,CAAN,KAAYA,CAA9D;AACD,GAHM,CAAP;;AAKA,MAAIJ,IAAJ,EAAU;AACRH,IAAAA,IAAI,CAACG,IAAL,CAAU,CAACK,CAAD,EAAIC,CAAJ,KAAUR,CAAC,CAACO,CAAD,CAAD,GAAOP,CAAC,CAACQ,CAAD,CAA5B;AACD;;AAED,QAAMC,CAAC,GAAGV,IAAI,CAACW,MAAf;AAAA,QACMC,CAAC,GAAG,IAAIC,YAAJ,CAAiBH,CAAjB,CADV;AAAA,QAEMI,CAAC,GAAG,IAAID,YAAJ,CAAiBH,CAAjB,CAFV,CAVuC,CAcvC;;AACA,MAAIK,CAAC,GAAG,CAAR;AAAA,MAAWC,EAAE,GAAG,CAAhB;AAAA,MAAmBC,EAAE,GAAG,CAAxB;AAAA,MAA2BC,EAA3B;AAAA,MAA+BC,EAA/B;AAAA,MAAmCd,CAAnC;;AACA,OAAKA,CAAL,IAAUL,IAAV,EAAgB;AACdY,IAAAA,CAAC,CAACG,CAAD,CAAD,GAAOG,EAAE,GAAG,CAACjB,CAAC,CAACI,CAAD,CAAd;AACAS,IAAAA,CAAC,CAACC,CAAD,CAAD,GAAOI,EAAE,GAAG,CAACjB,CAAC,CAACG,CAAD,CAAd;AACA,MAAEU,CAAF;AACAC,IAAAA,EAAE,IAAI,CAACE,EAAE,GAAGF,EAAN,IAAYD,CAAlB;AACAE,IAAAA,EAAE,IAAI,CAACE,EAAE,GAAGF,EAAN,IAAYF,CAAlB;AACD,GAtBsC,CAwBvC;;;AACA,OAAKA,CAAC,GAAC,CAAP,EAAUA,CAAC,GAACL,CAAZ,EAAe,EAAEK,CAAjB,EAAoB;AAClBH,IAAAA,CAAC,CAACG,CAAD,CAAD,IAAQC,EAAR;AACAF,IAAAA,CAAC,CAACC,CAAD,CAAD,IAAQE,EAAR;AACD;;AAED,SAAO,CAACL,CAAD,EAAIE,CAAJ,EAAOE,EAAP,EAAWC,EAAX,CAAP;AACD;AAED,OAAO,SAASG,WAAT,CAAqBpB,IAArB,EAA2BC,CAA3B,EAA8BC,CAA9B,EAAiCmB,QAAjC,EAA2C;AAChD,MAAIN,CAAC,GAAG,CAAC,CAAT;AAAA,MAAYT,CAAZ;AAAA,MAAeC,CAAf;;AAEA,OAAK,IAAIF,CAAT,IAAcL,IAAd,EAAoB;AAClBM,IAAAA,CAAC,GAAGL,CAAC,CAACI,CAAD,CAAL;AACAE,IAAAA,CAAC,GAAGL,CAAC,CAACG,CAAD,CAAL;;AACA,QAAIC,CAAC,IAAI,IAAL,IAAa,CAACA,CAAC,GAAG,CAACA,CAAN,KAAYA,CAAzB,IAA8BC,CAAC,IAAI,IAAnC,IAA2C,CAACA,CAAC,GAAG,CAACA,CAAN,KAAYA,CAA3D,EAA8D;AAC5Dc,MAAAA,QAAQ,CAACf,CAAD,EAAIC,CAAJ,EAAO,EAAEQ,CAAT,CAAR;AACD;AACF;AACF","sourcesContent":["export function points(data, x, y, sort) {\n  data = data.filter(d => {\n    let u = x(d), v = y(d);\n    return u != null && (u = +u) >= u && v != null && (v = +v) >= v;\n  });\n\n  if (sort) {\n    data.sort((a, b) => x(a) - x(b));\n  }\n\n  const n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n);\n\n  // extract values, calculate means\n  let i = 0, ux = 0, uy = 0, xv, yv, d;\n  for (d of data) {\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  }\n\n  // mean center the data\n  for (i=0; i<n; ++i) {\n    X[i] -= ux;\n    Y[i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\n\nexport function visitPoints(data, x, y, callback) {\n  let i = -1, u, v;\n\n  for (let d of data) {\n    u = x(d);\n    v = y(d);\n    if (u != null && (u = +u) >= u && v != null && (v = +v) >= v) {\n      callback(u, v, ++i);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}