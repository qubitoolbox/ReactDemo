{"ast":null,"code":"import { Left, Right, GroupSubtitleStyle, GroupTitleStyle, Skip } from './guides/constants';\nimport guideGroup from './guides/guide-group';\nimport guideMark from './guides/guide-mark';\nimport { alignExpr, lookup } from './guides/guide-util';\nimport parseMark from './mark';\nimport { TextMark } from './marks/marktypes';\nimport { TitleRole, TitleTextRole, TitleSubtitleRole } from './marks/roles';\nimport { addEncoders, extendEncode } from './encode/encode-util';\nimport { ref } from '../util';\nimport { Collect } from '../transforms';\nimport { extend, isString } from 'vega-util';\nconst angleExpr = `item.orient===\"${Left}\"?-90:item.orient===\"${Right}\"?90:0`;\nexport default function (spec, scope) {\n  spec = isString(spec) ? {\n    text: spec\n  } : spec;\n\n  var _ = lookup(spec, scope.config.title),\n      encode = spec.encode || {},\n      userEncode = encode.group || {},\n      name = userEncode.name || undefined,\n      interactive = userEncode.interactive,\n      style = userEncode.style,\n      children = [],\n      dataRef,\n      group; // single-element data source for group title\n\n\n  dataRef = ref(scope.add(Collect(null, [{}]))); // include title text\n\n  children.push(buildTitle(spec, _, titleEncode(spec), dataRef)); // include subtitle text\n\n  if (spec.subtitle) {\n    children.push(buildSubTitle(spec, _, encode.subtitle, dataRef));\n  } // build title specification\n\n\n  group = guideGroup(TitleRole, style, name, dataRef, interactive, groupEncode(_, userEncode), children);\n  if (spec.zindex) group.zindex = spec.zindex; // parse title specification\n\n  return parseMark(group, scope);\n} // provide backwards-compatibility for title custom encode;\n// the top-level encode block has been *deprecated*.\n\nfunction titleEncode(spec) {\n  const encode = spec.encode;\n  return encode && encode.title || extend({\n    name: spec.name,\n    interactive: spec.interactive,\n    style: spec.style\n  }, encode);\n}\n\nfunction groupEncode(_, userEncode) {\n  var encode = {\n    enter: {},\n    update: {}\n  };\n  addEncoders(encode, {\n    orient: _('orient'),\n    anchor: _('anchor'),\n    align: {\n      signal: alignExpr\n    },\n    angle: {\n      signal: angleExpr\n    },\n    limit: _('limit'),\n    frame: _('frame'),\n    offset: _('offset') || 0,\n    padding: _('subtitlePadding')\n  });\n  return extendEncode(encode, userEncode, Skip);\n}\n\nfunction buildTitle(spec, _, userEncode, dataRef) {\n  var zero = {\n    value: 0\n  },\n      text = spec.text,\n      encode = {\n    enter: {\n      opacity: zero\n    },\n    update: {\n      opacity: {\n        value: 1\n      }\n    },\n    exit: {\n      opacity: zero\n    }\n  };\n  addEncoders(encode, {\n    text: text,\n    align: {\n      signal: 'item.mark.group.align'\n    },\n    angle: {\n      signal: 'item.mark.group.angle'\n    },\n    limit: {\n      signal: 'item.mark.group.limit'\n    },\n    baseline: 'top',\n    dx: _('dx'),\n    dy: _('dy'),\n    fill: _('color'),\n    font: _('font'),\n    fontSize: _('fontSize'),\n    fontStyle: _('fontStyle'),\n    fontWeight: _('fontWeight'),\n    lineHeight: _('lineHeight')\n  }, {\n    // update\n    align: _('align'),\n    angle: _('angle'),\n    baseline: _('baseline')\n  });\n  return guideMark(TextMark, TitleTextRole, GroupTitleStyle, null, dataRef, encode, userEncode);\n}\n\nfunction buildSubTitle(spec, _, userEncode, dataRef) {\n  var zero = {\n    value: 0\n  },\n      text = spec.subtitle,\n      encode = {\n    enter: {\n      opacity: zero\n    },\n    update: {\n      opacity: {\n        value: 1\n      }\n    },\n    exit: {\n      opacity: zero\n    }\n  };\n  addEncoders(encode, {\n    text: text,\n    align: {\n      signal: 'item.mark.group.align'\n    },\n    angle: {\n      signal: 'item.mark.group.angle'\n    },\n    limit: {\n      signal: 'item.mark.group.limit'\n    },\n    baseline: 'top',\n    dx: _('dx'),\n    dy: _('dy'),\n    fill: _('subtitleColor'),\n    font: _('subtitleFont'),\n    fontSize: _('subtitleFontSize'),\n    fontStyle: _('subtitleFontStyle'),\n    fontWeight: _('subtitleFontWeight'),\n    lineHeight: _('subtitleLineHeight')\n  }, {\n    // update\n    align: _('align'),\n    angle: _('angle'),\n    baseline: _('baseline')\n  });\n  return guideMark(TextMark, TitleSubtitleRole, GroupSubtitleStyle, null, dataRef, encode, userEncode);\n}","map":{"version":3,"sources":["C:/NewReactResume/resm/node_modules/vega-parser/src/parsers/title.js"],"names":["Left","Right","GroupSubtitleStyle","GroupTitleStyle","Skip","guideGroup","guideMark","alignExpr","lookup","parseMark","TextMark","TitleRole","TitleTextRole","TitleSubtitleRole","addEncoders","extendEncode","ref","Collect","extend","isString","angleExpr","spec","scope","text","_","config","title","encode","userEncode","group","name","undefined","interactive","style","children","dataRef","add","push","buildTitle","titleEncode","subtitle","buildSubTitle","groupEncode","zindex","enter","update","orient","anchor","align","signal","angle","limit","frame","offset","padding","zero","value","opacity","exit","baseline","dx","dy","fill","font","fontSize","fontStyle","fontWeight","lineHeight"],"mappings":"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","sourcesContent":["import {Left, Right, GroupSubtitleStyle, GroupTitleStyle, Skip} from './guides/constants';\nimport guideGroup from './guides/guide-group';\nimport guideMark from './guides/guide-mark';\nimport {alignExpr, lookup} from './guides/guide-util';\nimport parseMark from './mark';\nimport {TextMark} from './marks/marktypes';\nimport {TitleRole, TitleTextRole, TitleSubtitleRole} from './marks/roles';\nimport {addEncoders, extendEncode} from './encode/encode-util';\nimport {ref} from '../util';\nimport {Collect} from '../transforms';\nimport {extend, isString} from 'vega-util';\n\nconst angleExpr = `item.orient===\"${Left}\"?-90:item.orient===\"${Right}\"?90:0`;\n\nexport default function(spec, scope) {\n  spec = isString(spec) ? {text: spec} : spec;\n\n  var _ = lookup(spec, scope.config.title),\n      encode = spec.encode || {},\n      userEncode = encode.group || {},\n      name = userEncode.name || undefined,\n      interactive = userEncode.interactive,\n      style = userEncode.style,\n      children = [],\n      dataRef, group;\n\n  // single-element data source for group title\n  dataRef = ref(scope.add(Collect(null, [{}])));\n\n  // include title text\n  children.push(buildTitle(spec, _, titleEncode(spec), dataRef));\n\n  // include subtitle text\n  if (spec.subtitle) {\n    children.push(buildSubTitle(spec, _, encode.subtitle, dataRef));\n  }\n\n  // build title specification\n  group = guideGroup(TitleRole, style, name, dataRef, interactive,\n                     groupEncode(_, userEncode), children);\n  if (spec.zindex) group.zindex = spec.zindex;\n\n  // parse title specification\n  return parseMark(group, scope);\n}\n\n// provide backwards-compatibility for title custom encode;\n// the top-level encode block has been *deprecated*.\nfunction titleEncode(spec) {\n  const encode = spec.encode;\n  return (encode && encode.title) || extend({\n    name: spec.name,\n    interactive: spec.interactive,\n    style: spec.style\n  }, encode);\n}\n\nfunction groupEncode(_, userEncode) {\n  var encode = {enter: {}, update: {}};\n\n  addEncoders(encode, {\n    orient:     _('orient'),\n    anchor:     _('anchor'),\n    align:      {signal: alignExpr},\n    angle:      {signal: angleExpr},\n    limit:      _('limit'),\n    frame:      _('frame'),\n    offset:     _('offset') || 0,\n    padding:    _('subtitlePadding')\n  });\n\n  return extendEncode(encode, userEncode, Skip);\n}\n\nfunction buildTitle(spec, _, userEncode, dataRef) {\n  var zero = {value: 0},\n      text = spec.text,\n      encode = {\n        enter: {opacity: zero},\n        update: {opacity: {value: 1}},\n        exit: {opacity: zero}\n      };\n\n  addEncoders(encode, {\n    text:       text,\n    align:      {signal: 'item.mark.group.align'},\n    angle:      {signal: 'item.mark.group.angle'},\n    limit:      {signal: 'item.mark.group.limit'},\n    baseline:   'top',\n    dx:         _('dx'),\n    dy:         _('dy'),\n    fill:       _('color'),\n    font:       _('font'),\n    fontSize:   _('fontSize'),\n    fontStyle:  _('fontStyle'),\n    fontWeight: _('fontWeight'),\n    lineHeight: _('lineHeight')\n  }, { // update\n    align:      _('align'),\n    angle:      _('angle'),\n    baseline:   _('baseline')\n  });\n\n  return guideMark(TextMark, TitleTextRole, GroupTitleStyle,\n                   null, dataRef, encode, userEncode);\n}\n\nfunction buildSubTitle(spec, _, userEncode, dataRef) {\n  var zero = {value: 0},\n      text = spec.subtitle,\n      encode = {\n        enter: {opacity: zero},\n        update: {opacity: {value: 1}},\n        exit: {opacity: zero}\n      };\n\n  addEncoders(encode, {\n    text:       text,\n    align:      {signal: 'item.mark.group.align'},\n    angle:      {signal: 'item.mark.group.angle'},\n    limit:      {signal: 'item.mark.group.limit'},\n    baseline:   'top',\n    dx:         _('dx'),\n    dy:         _('dy'),\n    fill:       _('subtitleColor'),\n    font:       _('subtitleFont'),\n    fontSize:   _('subtitleFontSize'),\n    fontStyle:  _('subtitleFontStyle'),\n    fontWeight: _('subtitleFontWeight'),\n    lineHeight: _('subtitleLineHeight')\n  }, { // update\n    align:      _('align'),\n    angle:      _('angle'),\n    baseline:   _('baseline')\n  });\n\n  return guideMark(TextMark, TitleSubtitleRole, GroupSubtitleStyle,\n                   null, dataRef, encode, userEncode);\n}\n"]},"metadata":{},"sourceType":"module"}